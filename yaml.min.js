(function(){var modules,require_from,register,error;if(void 0===global)var global="undefined"==typeof window?this:window;modules={},require_from=function(parent,from){return function(name){return modules[from]&&modules[from][name]?(modules[from][name].parent=parent,modules[from][name].initialize&&modules[from][name].initialize(),modules[from][name].exports):error(name,from)}},error=function(name,from){var message="Warn: could not find module "+name;console.log(message)},(register=function(names,directory,callback){var module={exports:{},initialize:function(){callback.call(module.exports,global,module,module.exports,require_from(module,directory),void 0),delete module.initialize},parent:null};for(var from in names){modules[from]=modules[from]||{};for(var j in names[from]){var name=names[from][j];modules[from][name]=module}}})({0:["./events"]},0,function(global,module,exports,require,window){(function(){this.Event=class{constructor(start_mark1,end_mark1){this.start_mark=start_mark1,this.end_mark=end_mark1}},this.NodeEvent=class extends this.Event{constructor(anchor1,start_mark,end_mark){super(start_mark,end_mark),this.anchor=anchor1}},this.CollectionStartEvent=class extends this.NodeEvent{constructor(anchor,tag,implicit,start_mark,end_mark,flow_style){super(anchor,start_mark,end_mark),this.tag=tag,this.implicit=implicit,this.flow_style=flow_style}},this.CollectionEndEvent=class extends this.Event{},this.StreamStartEvent=class extends this.Event{constructor(start_mark,end_mark,encoding){super(start_mark,end_mark),this.encoding=encoding}},this.StreamEndEvent=class extends this.Event{},this.DocumentStartEvent=class extends this.Event{constructor(start_mark,end_mark,explicit,version,tags){super(start_mark,end_mark),this.explicit=explicit,this.version=version,this.tags=tags}},this.DocumentEndEvent=class extends this.Event{constructor(start_mark,end_mark,explicit){super(start_mark,end_mark),this.explicit=explicit}},this.AliasEvent=class extends this.NodeEvent{},this.ScalarEvent=class extends this.NodeEvent{constructor(anchor,tag,implicit,value,start_mark,end_mark,style){super(anchor,start_mark,end_mark),this.tag=tag,this.implicit=implicit,this.value=value,this.style=style}},this.SequenceStartEvent=class extends this.CollectionStartEvent{},this.SequenceEndEvent=class extends this.CollectionEndEvent{},this.MappingStartEvent=class extends this.CollectionStartEvent{},this.MappingEndEvent=class extends this.CollectionEndEvent{}}).call(this)}),register({0:["./errors"]},0,function(global,module,exports,require,window){(function(){var indexOf=[].indexOf;this.Mark=class{constructor(line,column,buffer,pointer){this.line=line,this.column=column,this.buffer=buffer,this.pointer=pointer}get_snippet(indent=4,max_length=75){var end,head,ref,ref1,start,tail;if(null==this.buffer)return null;for("\0\r\nÂ…\u2028\u2029",head="",start=this.pointer;start>0&&(ref=this.buffer[start-1],indexOf.call("\0\r\nÂ…\u2028\u2029",ref)<0);)if(start--,this.pointer-start>max_length/2-1){head=" ... ",start+=5;break}for(tail="",end=this.pointer;end<this.buffer.length&&(ref1=this.buffer[end],indexOf.call("\0\r\nÂ…\u2028\u2029",ref1)<0);)if(++end-this.pointer>max_length/2-1){tail=" ... ",end-=5;break}return`${new Array(indent).join(" ")}${head}${this.buffer.slice(start,end)}${tail}\n${new Array(indent+this.pointer-start+head.length).join(" ")}^`}toString(){var snippet,where;return snippet=this.get_snippet(),where=`  on line ${this.line+1}, column ${this.column+1}`,snippet?where:`${where}:\n${snippet}`}},this.YAMLError=class extends Error{constructor(message){super(message),Object.defineProperty(this,"stack",{get:function(){return this.toString()+"\n"+(new Error).stack.split("\n").slice(1).join("\n")}})}toString(){return this.message}},this.MarkedYAMLError=class extends this.YAMLError{constructor(context,context_mark,problem,problem_mark,note){super(),this.context=context,this.context_mark=context_mark,this.problem=problem,this.problem_mark=problem_mark,this.note=note}toString(){var lines;return lines=[],null!=this.context&&lines.push(this.context),null==this.context_mark||null!=this.problem&&null!=this.problem_mark&&this.context_mark.line===this.problem_mark.line&&this.context_mark.column===this.problem_mark.column||lines.push(this.context_mark.toString()),null!=this.problem&&lines.push(this.problem),null!=this.problem_mark&&lines.push(this.problem_mark.toString()),null!=this.note&&lines.push(this.note),lines.join("\n")}}}).call(this)}),register({0:["./nodes"]},0,function(global,module,exports,require,window){(function(){var unique_id;unique_id=0,this.Node=class{constructor(tag1,value1,start_mark1,end_mark1){this.tag=tag1,this.value=value1,this.start_mark=start_mark1,this.end_mark=end_mark1,this.unique_id=`node_${unique_id++}`}},this.ScalarNode=function(){class ScalarNode extends this.Node{constructor(tag,value,start_mark,end_mark,style){super(tag,value,start_mark,end_mark),this.style=style}}return ScalarNode.prototype.id="scalar",ScalarNode}.call(this),this.CollectionNode=class extends this.Node{constructor(tag,value,start_mark,end_mark,flow_style){super(tag,value,start_mark,end_mark),this.flow_style=flow_style}},this.SequenceNode=function(){class SequenceNode extends this.CollectionNode{}return SequenceNode.prototype.id="sequence",SequenceNode}.call(this),this.MappingNode=function(){class MappingNode extends this.CollectionNode{}return MappingNode.prototype.id="mapping",MappingNode}.call(this)}).call(this)}),register({0:["./composer"]},0,function(global,module,exports,require,window){(function(){var MarkedYAMLError,events,nodes;events=require("./events"),({MarkedYAMLError:MarkedYAMLError}=require("./errors")),nodes=require("./nodes"),this.ComposerError=class extends MarkedYAMLError{},this.Composer=function(){var ctor;class Composer{constructor(){return ctor.apply(this,arguments)}initialise(){return this.anchors={}}check_node(){return this.check_event(events.StreamStartEvent)&&this.get_event(),!this.check_event(events.StreamEndEvent)}get_node(){if(!this.check_event(events.StreamEndEvent))return this.compose_document()}get_single_node(){var document,event;if(this.get_event(),document=null,this.check_event(events.StreamEndEvent)||(document=this.compose_document()),!this.check_event(events.StreamEndEvent))throw event=this.get_event(),new exports.ComposerError("expected a single document in the stream",document.start_mark,"but found another document",event.start_mark);return this.get_event(),document}compose_document(){var node;return this.get_event(),node=this.compose_node(),this.get_event(),this.anchors={},node}compose_node(parent,index){var anchor,event,node;if(this.check_event(events.AliasEvent)){if(event=this.get_event(),!((anchor=event.anchor)in this.anchors))throw new exports.ComposerError(null,null,`found undefined alias ${anchor}`,event.start_mark);return this.anchors[anchor]}if(event=this.peek_event(),null!==(anchor=event.anchor)&&anchor in this.anchors)throw new exports.ComposerError(`found duplicate anchor ${anchor}; first occurence`,this.anchors[anchor].start_mark,"second occurrence",event.start_mark);return this.descend_resolver(parent,index),this.check_event(events.ScalarEvent)?node=this.compose_scalar_node(anchor):this.check_event(events.SequenceStartEvent)?node=this.compose_sequence_node(anchor):this.check_event(events.MappingStartEvent)&&(node=this.compose_mapping_node(anchor)),this.ascend_resolver(),node}compose_scalar_node(anchor){var event,node,tag;return event=this.get_event(),null!==(tag=event.tag)&&"!"!==tag||(tag=this.resolve(nodes.ScalarNode,event.value,event.implicit)),node=new nodes.ScalarNode(tag,event.value,event.start_mark,event.end_mark,event.style),null!==anchor&&(this.anchors[anchor]=node),node}compose_sequence_node(anchor){var end_event,index,node,start_event,tag;for(null!==(tag=(start_event=this.get_event()).tag)&&"!"!==tag||(tag=this.resolve(nodes.SequenceNode,null,start_event.implicit)),node=new nodes.SequenceNode(tag,[],start_event.start_mark,null,start_event.flow_style),null!==anchor&&(this.anchors[anchor]=node),index=0;!this.check_event(events.SequenceEndEvent);)node.value.push(this.compose_node(node,index)),index++;return end_event=this.get_event(),node.end_mark=end_event.end_mark,node}compose_mapping_node(anchor){var end_event,item_key,item_value,node,start_event,tag;for(null!==(tag=(start_event=this.get_event()).tag)&&"!"!==tag||(tag=this.resolve(nodes.MappingNode,null,start_event.implicit)),node=new nodes.MappingNode(tag,[],start_event.start_mark,null,start_event.flow_style),null!==anchor&&(this.anchors[anchor]=node);!this.check_event(events.MappingEndEvent);)item_key=this.compose_node(node),item_value=this.compose_node(node,item_key),node.value.push([item_key,item_value]);return end_event=this.get_event(),node.end_mark=end_event.end_mark,node}}return ctor=Composer.prototype.initialise,Composer}.call(this)}).call(this)}),register({0:["./util"]},0,function(global,module,exports,require,window){(function(){var ref,ref1,ref2,hasProp={}.hasOwnProperty;this.StringStream=class{constructor(){this.string=""}write(chunk){return this.string+=chunk}},this.clone=(obj=>Object.assign({},obj)),this.extend=function(destination,...sources){var i,j,len,len1,name,ref,source;for(i=0,len=sources.length;i<len;i++)for(source=sources[i];source!==Object.prototype;){for(j=0,len1=(ref=Object.getOwnPropertyNames(source)).length;j<len1;j++)null==destination[name=ref[j]]&&(destination[name]=source[name]);source=Object.getPrototypeOf(source)}return destination},this.is_empty=function(obj){var key;if(Array.isArray(obj)||"string"==typeof obj)return 0===obj.length;for(key in obj)if(hasProp.call(obj,key))return!1;return!0},this.inspect=null!=(ref=null!=(ref1=null!=(ref2=require("util"))?ref2.inspect:void 0)?ref1:global.inspect)?ref:function(a){return`${a}`},this.pad_left=function(str,char,length){return(str=String(str)).length>=length?str:str.length+1===length?`${char}${str}`:`${new Array(length-str.length+1).join(char)}${str}`},this.to_hex=function(num){return"string"==typeof num&&(num=num.charCodeAt(0)),num.toString(16)}}).call(this)}),register({0:["./constructor"]},0,function(global,module,exports,require,window){(function(){var MarkedYAMLError,nodes,util,indexOf=[].indexOf;({MarkedYAMLError:MarkedYAMLError}=require("./errors")),nodes=require("./nodes"),util=require("./util"),this.ConstructorError=class extends MarkedYAMLError{},this.BaseConstructor=function(){var ctor;class BaseConstructor{constructor(){return ctor.apply(this,arguments)}static add_constructor(tag,constructor){return this.prototype.hasOwnProperty("yaml_constructors")||(this.prototype.yaml_constructors=util.extend({},this.prototype.yaml_constructors)),this.prototype.yaml_constructors[tag]=constructor}static add_multi_constructor(tag_prefix,multi_constructor){return this.prototype.hasOwnProperty("yaml_multi_constructors")||(this.prototype.yaml_multi_constructors=util.extend({},this.prototype.yaml_multi_constructors)),this.prototype.yaml_multi_constructors[tag_prefix]=multi_constructor}initialise(){return this.constructed_objects={},this.constructing_nodes=[],this.deferred_constructors=[]}check_data(){return this.check_node()}get_data(){if(this.check_node())return this.construct_document(this.get_node())}get_single_data(){var node;return null!=(node=this.get_single_node())?this.construct_document(node):null}construct_document(node){var data;for(data=this.construct_object(node);!util.is_empty(this.deferred_constructors);)this.deferred_constructors.pop()();return data}defer(f){return this.deferred_constructors.push(f)}construct_object(node){var constructor,object,ref,tag_prefix,tag_suffix;if(node.unique_id in this.constructed_objects)return this.constructed_objects[node.unique_id];if(ref=node.unique_id,indexOf.call(this.constructing_nodes,ref)>=0)throw new exports.ConstructorError(null,null,"found unconstructable recursive node",node.start_mark);if(this.constructing_nodes.push(node.unique_id),constructor=null,tag_suffix=null,node.tag in this.yaml_constructors)constructor=this.yaml_constructors[node.tag];else{for(tag_prefix in this.yaml_multi_constructors)if(node.tag.indexOf(0===tag_prefix)){tag_suffix=node.tag.slice(tag_prefix.length),constructor=this.yaml_multi_constructors[tag_prefix];break}null==constructor&&(null in this.yaml_multi_constructors?(tag_suffix=node.tag,constructor=this.yaml_multi_constructors.null):null in this.yaml_constructors?constructor=this.yaml_constructors.null:node instanceof nodes.ScalarNode?constructor=this.construct_scalar:node instanceof nodes.SequenceNode?constructor=this.construct_sequence:node instanceof nodes.MappingNode&&(constructor=this.construct_mapping))}return object=constructor.call(this,null!=tag_suffix?tag_suffix:node,node),this.constructed_objects[node.unique_id]=object,this.constructing_nodes.pop(),object}construct_scalar(node){if(!(node instanceof nodes.ScalarNode))throw new exports.ConstructorError(null,null,`expected a scalar node but found ${node.id}`,node.start_mark);return node.value}construct_sequence(node){var child,i,len,ref,results;if(!(node instanceof nodes.SequenceNode))throw new exports.ConstructorError(null,null,`expected a sequence node but found ${node.id}`,node.start_mark);for(results=[],i=0,len=(ref=node.value).length;i<len;i++)child=ref[i],results.push(this.construct_object(child));return results}construct_mapping(node){var i,key,key_node,len,mapping,ref,value,value_node;if(!(node instanceof nodes.MappingNode))throw new ConstructorError(null,null,`expected a mapping node but found ${node.id}`,node.start_mark);for(mapping={},i=0,len=(ref=node.value).length;i<len;i++){if([key_node,value_node]=ref[i],"object"==typeof(key=this.construct_object(key_node)))throw new exports.ConstructorError("while constructing a mapping",node.start_mark,"found unhashable key",key_node.start_mark);value=this.construct_object(value_node),mapping[key]=value}return mapping}construct_pairs(node){var i,key,key_node,len,pairs,ref,value,value_node;if(!(node instanceof nodes.MappingNode))throw new exports.ConstructorError(null,null,`expected a mapping node but found ${node.id}`,node.start_mark);for(pairs=[],i=0,len=(ref=node.value).length;i<len;i++)[key_node,value_node]=ref[i],key=this.construct_object(key_node),value=this.construct_object(value_node),pairs.push([key,value]);return pairs}}return BaseConstructor.prototype.yaml_constructors={},BaseConstructor.prototype.yaml_multi_constructors={},ctor=BaseConstructor.prototype.initialise,BaseConstructor}.call(this),this.Constructor=function(){var BOOL_VALUES,TIMESTAMP_PARTS,TIMESTAMP_REGEX;return BOOL_VALUES={on:!0,off:!1,true:!0,false:!1,yes:!0,no:!1},TIMESTAMP_REGEX=/^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[\x20\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\.([0-9]*))?(?:[\x20\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$/,TIMESTAMP_PARTS={year:1,month:2,day:3,hour:4,minute:5,second:6,fraction:7,tz:8,tz_sign:9,tz_hour:10,tz_minute:11},class extends this.BaseConstructor{construct_scalar(node){var i,key_node,len,ref,value_node;if(node instanceof nodes.MappingNode)for(i=0,len=(ref=node.value).length;i<len;i++)if([key_node,value_node]=ref[i],"tag:yaml.org,2002:value"===key_node.tag)return this.construct_scalar(value_node);return super.construct_scalar(node)}flatten_mapping(node){var i,index,j,key_node,len,len1,merge,ref,submerge,subnode,value,value_node;for(merge=[],index=0;index<node.value.length;)if([key_node,value_node]=node.value[index],"tag:yaml.org,2002:merge"===key_node.tag)if(node.value.splice(index,1),value_node instanceof nodes.MappingNode)this.flatten_mapping(value_node),merge=merge.concat(value_node.value);else{if(!(value_node instanceof nodes.SequenceNode))throw new exports.ConstructorError("while constructing a mapping",node.start_mark,`expected a mapping or list of mappings for merging but found ${value_node.id}`,value_node.start_mark);for(submerge=[],i=0,len=(ref=value_node.value).length;i<len;i++){if(!((subnode=ref[i])instanceof nodes.MappingNode))throw new exports.ConstructorError("while constructing a mapping",node.start_mark,`expected a mapping for merging, but found ${subnode.id}`,subnode.start_mark);this.flatten_mapping(subnode),submerge.push(subnode.value)}for(submerge.reverse(),j=0,len1=submerge.length;j<len1;j++)value=submerge[j],merge=merge.concat(value)}else"tag:yaml.org,2002:value"===key_node.tag?(key_node.tag="tag:yaml.org,2002:str",index++):index++;if(merge.length)return node.value=merge.concat(node.value)}construct_mapping(node){return node instanceof nodes.MappingNode&&this.flatten_mapping(node),super.construct_mapping(node)}construct_yaml_null(node){return this.construct_scalar(node),null}construct_yaml_bool(node){var value;return value=this.construct_scalar(node),BOOL_VALUES[value.toLowerCase()]}construct_yaml_int(node){var base,digit,digits,i,len,part,ref,sign,value;if(value=this.construct_scalar(node),value=value.replace(/_/g,""),sign="-"===value[0]?-1:1,ref=value[0],indexOf.call("+-",ref)>=0&&(value=value.slice(1)),"0"===value)return 0;if(0===value.indexOf("0b"))return sign*parseInt(value.slice(2),2);if(0===value.indexOf("0x"))return sign*parseInt(value.slice(2),16);if(0===value.indexOf("0o"))return sign*parseInt(value.slice(2),8);if("0"===value[0])return sign*parseInt(value,8);if(indexOf.call(value,":")>=0){for((digits=function(){var i,len,ref1,results;for(results=[],i=0,len=(ref1=value.split(/:/g)).length;i<len;i++)part=ref1[i],results.push(parseInt(part));return results}()).reverse(),base=1,value=0,i=0,len=digits.length;i<len;i++)digit=digits[i],value+=digit*base,base*=60;return sign*value}return sign*parseInt(value)}construct_yaml_float(node){var base,digit,digits,i,len,part,ref,sign,value;if(value=this.construct_scalar(node),value=value.replace(/_/g,"").toLowerCase(),sign="-"===value[0]?-1:1,ref=value[0],indexOf.call("+-",ref)>=0&&(value=value.slice(1)),".inf"===value)return Infinity*sign;if(".nan"===value)return NaN;if(indexOf.call(value,":")>=0){for((digits=function(){var i,len,ref1,results;for(results=[],i=0,len=(ref1=value.split(/:/g)).length;i<len;i++)part=ref1[i],results.push(parseFloat(part));return results}()).reverse(),base=1,value=0,i=0,len=digits.length;i<len;i++)digit=digits[i],value+=digit*base,base*=60;return sign*value}return sign*parseFloat(value)}construct_yaml_binary(node){var error,value;value=this.construct_scalar(node);try{return void 0!==window&&null!==window?atob(value):new Buffer(value,"base64").toString("ascii")}catch(error1){throw error=error1,new exports.ConstructorError(null,null,`failed to decode base64 data: ${error}`,node.start_mark)}}construct_yaml_timestamp(node){var day,fraction,hour,index,key,match,millisecond,minute,month,second,tz_hour,tz_minute,tz_sign,values,year;this.construct_scalar(node),match=node.value.match(TIMESTAMP_REGEX),values={};for(key in TIMESTAMP_PARTS)index=TIMESTAMP_PARTS[key],values[key]=match[index];if(year=parseInt(values.year),month=parseInt(values.month)-1,day=parseInt(values.day),!values.hour)return new Date(Date.UTC(year,month,day));if(hour=parseInt(values.hour),minute=parseInt(values.minute),second=parseInt(values.second),millisecond=0,values.fraction){for(fraction=values.fraction.slice(0,6);fraction.length<6;)fraction+="0";fraction=parseInt(fraction),millisecond=Math.round(fraction/1e3)}return values.tz_sign&&(tz_sign="-"===values.tz_sign?1:-1,(tz_hour=parseInt(values.tz_hour))&&(hour+=tz_sign*tz_hour),(tz_minute=parseInt(values.tz_minute))&&(minute+=tz_sign*tz_minute)),new Date(Date.UTC(year,month,day,hour,minute,second,millisecond))}construct_yaml_pair_list(type,node){var list;if(list=[],!(node instanceof nodes.SequenceNode))throw new exports.ConstructorError(`while constructing ${type}`,node.start_mark,`expected a sequence but found ${node.id}`,node.start_mark);return this.defer(()=>{var i,key,key_node,len,ref,results,subnode,value,value_node;for(results=[],i=0,len=(ref=node.value).length;i<len;i++){if(!((subnode=ref[i])instanceof nodes.MappingNode))throw new exports.ConstructorError(`while constructing ${type}`,node.start_mark,`expected a mapping of length 1 but found ${subnode.id}`,subnode.start_mark);if(1!==subnode.value.length)throw new exports.ConstructorError(`while constructing ${type}`,node.start_mark,`expected a mapping of length 1 but found ${subnode.id}`,subnode.start_mark);[key_node,value_node]=subnode.value[0],key=this.construct_object(key_node),value=this.construct_object(value_node),results.push(list.push([key,value]))}return results}),list}construct_yaml_omap(node){return this.construct_yaml_pair_list("an ordered map",node)}construct_yaml_pairs(node){return this.construct_yaml_pair_list("pairs",node)}construct_yaml_set(node){var data;return data=[],this.defer(()=>{var item,results;results=[];for(item in this.construct_mapping(node))results.push(data.push(item));return results}),data}construct_yaml_str(node){return this.construct_scalar(node)}construct_yaml_seq(node){var data;return data=[],this.defer(()=>{var i,item,len,ref,results;for(results=[],i=0,len=(ref=this.construct_sequence(node)).length;i<len;i++)item=ref[i],results.push(data.push(item));return results}),data}construct_yaml_map(node){var data;return data={},this.defer(()=>{var key,ref,results,value;ref=this.construct_mapping(node),results=[];for(key in ref)value=ref[key],results.push(data[key]=value);return results}),data}construct_yaml_object(node,klass){var data;return data=new klass,this.defer(()=>{var key,ref,results,value;ref=this.construct_mapping(node,!0),results=[];for(key in ref)value=ref[key],results.push(data[key]=value);return results}),data}construct_undefined(node){throw new exports.ConstructorError(null,null,`could not determine a constructor for the tag ${node.tag}`,node.start_mark)}}}.call(this),this.Constructor.add_constructor("tag:yaml.org,2002:null",this.Constructor.prototype.construct_yaml_null),this.Constructor.add_constructor("tag:yaml.org,2002:bool",this.Constructor.prototype.construct_yaml_bool),this.Constructor.add_constructor("tag:yaml.org,2002:int",this.Constructor.prototype.construct_yaml_int),this.Constructor.add_constructor("tag:yaml.org,2002:float",this.Constructor.prototype.construct_yaml_float),this.Constructor.add_constructor("tag:yaml.org,2002:binary",this.Constructor.prototype.construct_yaml_binary),this.Constructor.add_constructor("tag:yaml.org,2002:timestamp",this.Constructor.prototype.construct_yaml_timestamp),this.Constructor.add_constructor("tag:yaml.org,2002:omap",this.Constructor.prototype.construct_yaml_omap),this.Constructor.add_constructor("tag:yaml.org,2002:pairs",this.Constructor.prototype.construct_yaml_pairs),this.Constructor.add_constructor("tag:yaml.org,2002:set",this.Constructor.prototype.construct_yaml_set),this.Constructor.add_constructor("tag:yaml.org,2002:str",this.Constructor.prototype.construct_yaml_str),this.Constructor.add_constructor("tag:yaml.org,2002:seq",this.Constructor.prototype.construct_yaml_seq),this.Constructor.add_constructor("tag:yaml.org,2002:map",this.Constructor.prototype.construct_yaml_map),this.Constructor.add_constructor(null,this.Constructor.prototype.construct_undefined)}).call(this)}),register({0:["./emitter"]},0,function(global,module,exports,require,window){(function(){var ScalarAnalysis,YAMLError,events,util,hasProp={}.hasOwnProperty,indexOf=[].indexOf;events=require("./events"),util=require("./util"),({YAMLError:YAMLError}=require("./errors")),this.EmitterError=class extends YAMLError{},this.Emitter=function(){var C_WHITESPACE,DEFAULT_TAG_PREFIXES,ESCAPE_REPLACEMENTS,ctor;class Emitter{constructor(){return ctor.apply(this,arguments)}initialise(stream,options){var ref;return this.stream=stream,this.encoding=null,this.states=[],this.state=this.expect_stream_start,this.events=[],this.event=null,this.indents=[],this.indent=null,this.flow_level=0,this.root_context=!1,this.sequence_context=!1,this.mapping_context=!1,this.simple_key_context=!1,this.line=0,this.column=0,this.whitespace=!0,this.indentation=!0,this.open_ended=!1,({canonical:this.canonical,allow_unicode:this.allow_unicode}=options),null==this.canonical&&(this.canonical=!1),null==this.allow_unicode&&(this.allow_unicode=!0),this.best_indent=1<options.indent&&options.indent<10?options.indent:2,this.best_width=options.width>2*this.indent?options.width:80,this.best_line_break="\r"===(ref=options.line_break)||"\n"===ref||"\r\n"===ref?options.line_break:"\n",this.tag_prefixes=null,this.prepared_anchor=null,this.prepared_tag=null,this.analysis=null,this.style=null}dispose(){return this.states=[],this.state=null}emit(event){var results;for(this.events.push(event),results=[];!this.need_more_events();)this.event=this.events.shift(),this.state(),results.push(this.event=null);return results}need_more_events(){var event;return 0===this.events.length||((event=this.events[0])instanceof events.DocumentStartEvent?this.need_events(1):event instanceof events.SequenceStartEvent?this.need_events(2):event instanceof events.MappingStartEvent&&this.need_events(3))}need_events(count){var event,i,len,level,ref;for(level=0,i=0,len=(ref=this.events.slice(1)).length;i<len;i++)if((event=ref[i])instanceof events.DocumentStartEvent||event instanceof events.CollectionStartEvent?level++:event instanceof events.DocumentEndEvent||event instanceof events.CollectionEndEvent?level--:event instanceof events.StreamEndEvent&&(level=-1),level<0)return!1;return this.events.length<count+1}increase_indent(options={}){return this.indents.push(this.indent),null==this.indent?this.indent=options.flow?this.best_indent:0:options.indentless?void 0:this.indent+=this.best_indent}expect_stream_start(){return this.event instanceof events.StreamStartEvent?(!this.event.encoding||"encoding"in this.stream||(this.encoding=this.event.encoding),this.write_stream_start(),this.state=this.expect_first_document_start):this.error("expected StreamStartEvent, but got",this.event)}expect_nothing(){return this.error("expected nothing, but got",this.event)}expect_first_document_start(){return this.expect_document_start(!0)}expect_document_start(first=!1){var handle,i,k,len,prefix,ref;if(this.event instanceof events.DocumentStartEvent){if((this.event.version||this.event.tags)&&this.open_ended&&(this.write_indicator("...",!0),this.write_indent()),this.event.version&&this.write_version_directive(this.prepare_version(this.event.version)),this.tag_prefixes=util.clone(DEFAULT_TAG_PREFIXES),this.event.tags)for(i=0,len=(ref=function(){var ref,results;ref=this.event.tags,results=[];for(k in ref)hasProp.call(ref,k)&&results.push(k);return results}.call(this).sort()).length;i<len;i++)handle=ref[i],prefix=this.event.tags[handle],this.tag_prefixes[prefix]=handle,this.write_tag_directive(this.prepare_tag_handle(handle),this.prepare_tag_prefix(prefix));return(!first||this.event.explicit||this.canonical||this.event.version||this.event.tags||this.check_empty_document())&&(this.write_indent(),this.write_indicator("---",!0),this.canonical&&this.write_indent()),this.state=this.expect_document_root}return this.event instanceof events.StreamEndEvent?(this.open_ended&&(this.write_indicator("...",!0),this.write_indent()),this.write_stream_end(),this.state=this.expect_nothing):this.error("expected DocumentStartEvent, but got",this.event)}expect_document_end(){return this.event instanceof events.DocumentEndEvent?(this.write_indent(),this.event.explicit&&(this.write_indicator("...",!0),this.write_indent()),this.flush_stream(),this.state=this.expect_document_start):this.error("expected DocumentEndEvent, but got",this.event)}expect_document_root(){return this.states.push(this.expect_document_end),this.expect_node({root:!0})}expect_node(expect={}){return this.root_context=!!expect.root,this.sequence_context=!!expect.sequence,this.mapping_context=!!expect.mapping,this.simple_key_context=!!expect.simple_key,this.event instanceof events.AliasEvent?this.expect_alias():this.event instanceof events.ScalarEvent||this.event instanceof events.CollectionStartEvent?(this.process_anchor("&"),this.process_tag(),this.event instanceof events.ScalarEvent?this.expect_scalar():this.event instanceof events.SequenceStartEvent?this.flow_level||this.canonical||this.event.flow_style||this.check_empty_sequence()?this.expect_flow_sequence():this.expect_block_sequence():this.event instanceof events.MappingStartEvent?this.flow_level||this.canonical||this.event.flow_style||this.check_empty_mapping()?this.expect_flow_mapping():this.expect_block_mapping():void 0):this.error("expected NodeEvent, but got",this.event)}expect_alias(){return this.event.anchor||this.error("anchor is not specified for alias"),this.process_anchor("*"),this.state=this.states.pop()}expect_scalar(){return this.increase_indent({flow:!0}),this.process_scalar(),this.indent=this.indents.pop(),this.state=this.states.pop()}expect_flow_sequence(){return this.write_indicator("[",!0,{whitespace:!0}),this.flow_level++,this.increase_indent({flow:!0}),this.state=this.expect_first_flow_sequence_item}expect_first_flow_sequence_item(){return this.event instanceof events.SequenceEndEvent?(this.indent=this.indents.pop(),this.flow_level--,this.write_indicator("]",!1),this.state=this.states.pop()):((this.canonical||this.column>this.best_width)&&this.write_indent(),this.states.push(this.expect_flow_sequence_item),this.expect_node({sequence:!0}))}expect_flow_sequence_item(){return this.event instanceof events.SequenceEndEvent?(this.indent=this.indents.pop(),this.flow_level--,this.canonical&&(this.write_indicator(",",!1),this.write_indent()),this.write_indicator("]",!1),this.state=this.states.pop()):(this.write_indicator(",",!1),(this.canonical||this.column>this.best_width)&&this.write_indent(),this.states.push(this.expect_flow_sequence_item),this.expect_node({sequence:!0}))}expect_flow_mapping(){return this.write_indicator("{",!0,{whitespace:!0}),this.flow_level++,this.increase_indent({flow:!0}),this.state=this.expect_first_flow_mapping_key}expect_first_flow_mapping_key(){return this.event instanceof events.MappingEndEvent?(this.indent=this.indents.pop(),this.flow_level--,this.write_indicator("}",!1),this.state=this.states.pop()):((this.canonical||this.column>this.best_width)&&this.write_indent(),!this.canonical&&this.check_simple_key()?(this.states.push(this.expect_flow_mapping_simple_value),this.expect_node({mapping:!0,simple_key:!0})):(this.write_indicator("?",!0),this.states.push(this.expect_flow_mapping_value),this.expect_node({mapping:!0})))}expect_flow_mapping_key(){return this.event instanceof events.MappingEndEvent?(this.indent=this.indents.pop(),this.flow_level--,this.canonical&&(this.write_indicator(",",!1),this.write_indent()),this.write_indicator("}",!1),this.state=this.states.pop()):(this.write_indicator(",",!1),(this.canonical||this.column>this.best_width)&&this.write_indent(),!this.canonical&&this.check_simple_key()?(this.states.push(this.expect_flow_mapping_simple_value),this.expect_node({mapping:!0,simple_key:!0})):(this.write_indicator("?",!0),this.states.push(this.expect_flow_mapping_value),this.expect_node({mapping:!0})))}expect_flow_mapping_simple_value(){return this.write_indicator(":",!1),this.states.push(this.expect_flow_mapping_key),this.expect_node({mapping:!0})}expect_flow_mapping_value(){return(this.canonical||this.column>this.best_width)&&this.write_indent(),this.write_indicator(":",!0),this.states.push(this.expect_flow_mapping_key),this.expect_node({mapping:!0})}expect_block_sequence(){var indentless;return indentless=this.mapping_context&&!this.indentation,this.increase_indent({indentless:indentless}),this.state=this.expect_first_block_sequence_item}expect_first_block_sequence_item(){return this.expect_block_sequence_item(!0)}expect_block_sequence_item(first=!1){return!first&&this.event instanceof events.SequenceEndEvent?(this.indent=this.indents.pop(),this.state=this.states.pop()):(this.write_indent(),this.write_indicator("-",!0,{indentation:!0}),this.states.push(this.expect_block_sequence_item),this.expect_node({sequence:!0}))}expect_block_mapping(){return this.increase_indent(),this.state=this.expect_first_block_mapping_key}expect_first_block_mapping_key(){return this.expect_block_mapping_key(!0)}expect_block_mapping_key(first=!1){return!first&&this.event instanceof events.MappingEndEvent?(this.indent=this.indents.pop(),this.state=this.states.pop()):(this.write_indent(),this.check_simple_key()?(this.states.push(this.expect_block_mapping_simple_value),this.expect_node({mapping:!0,simple_key:!0})):(this.write_indicator("?",!0,{indentation:!0}),this.states.push(this.expect_block_mapping_value),this.expect_node({mapping:!0})))}expect_block_mapping_simple_value(){return this.write_indicator(":",!1),this.states.push(this.expect_block_mapping_key),this.expect_node({mapping:!0})}expect_block_mapping_value(){return this.write_indent(),this.write_indicator(":",!0,{indentation:!0}),this.states.push(this.expect_block_mapping_key),this.expect_node({mapping:!0})}check_empty_document(){var event;return this.event instanceof events.DocumentStartEvent&&0!==this.events.length&&((event=this.events[0])instanceof events.ScalarEvent&&null==event.anchor&&null==event.tag&&event.implicit&&""===event.value)}check_empty_sequence(){return this.event instanceof events.SequenceStartEvent&&this.events[0]instanceof events.SequenceEndEvent}check_empty_mapping(){return this.event instanceof events.MappingStartEvent&&this.events[0]instanceof events.MappingEndEvent}check_simple_key(){var length;return length=0,this.event instanceof events.NodeEvent&&null!=this.event.anchor&&(null==this.prepared_anchor&&(this.prepared_anchor=this.prepare_anchor(this.event.anchor)),length+=this.prepared_anchor.length),null!=this.event.tag&&(this.event instanceof events.ScalarEvent||this.event instanceof events.CollectionStartEvent)&&(null==this.prepared_tag&&(this.prepared_tag=this.prepare_tag(this.event.tag)),length+=this.prepared_tag.length),this.event instanceof events.ScalarEvent&&(null==this.analysis&&(this.analysis=this.analyze_scalar(this.event.value)),length+=this.analysis.scalar.length),length<128&&(this.event instanceof events.AliasEvent||this.event instanceof events.ScalarEvent&&!this.analysis.empty&&!this.analysis.multiline||this.check_empty_sequence()||this.check_empty_mapping())}process_anchor(indicator){if(null!=this.event.anchor)return null==this.prepared_anchor&&(this.prepared_anchor=this.prepare_anchor(this.event.anchor)),this.prepared_anchor&&this.write_indicator(`${indicator}${this.prepared_anchor}`,!0),this.prepared_anchor=null;this.prepared_anchor=null}process_tag(){var tag;if(tag=this.event.tag,this.event instanceof events.ScalarEvent){if(null==this.style&&(this.style=this.choose_scalar_style()),(!this.canonical||null==tag)&&(""===this.style&&this.event.implicit[0]||""!==this.style&&this.event.implicit[1]))return void(this.prepared_tag=null);this.event.implicit[0]&&null==tag&&(tag="!",this.prepared_tag=null)}else if((!this.canonical||null==tag)&&this.event.implicit)return void(this.prepared_tag=null);return null==tag&&this.error("tag is not specified"),null==this.prepared_tag&&(this.prepared_tag=this.prepare_tag(tag)),this.write_indicator(this.prepared_tag,!0),this.prepared_tag=null}process_scalar(){var split;switch(null==this.analysis&&(this.analysis=this.analyze_scalar(this.event.value)),null==this.style&&(this.style=this.choose_scalar_style()),split=!this.simple_key_context,this.style){case'"':this.write_double_quoted(this.analysis.scalar,split);break;case"'":this.write_single_quoted(this.analysis.scalar,split);break;case">":this.write_folded(this.analysis.scalar);break;case"|":this.write_literal(this.analysis.scalar);break;default:this.write_plain(this.analysis.scalar,split)}return this.analysis=null,this.style=null}choose_scalar_style(){var ref;return null==this.analysis&&(this.analysis=this.analyze_scalar(this.event.value)),'"'===this.event.style||this.canonical?'"':this.event.style||!this.event.implicit[0]||this.simple_key_context&&(this.analysis.empty||this.analysis.multiline)||!(this.flow_level&&this.analysis.allow_flow_plain||!this.flow_level&&this.analysis.allow_block_plain)?this.event.style&&(ref=this.event.style,indexOf.call("|>",ref)>=0)&&!this.flow_level&&!this.simple_key_context&&this.analysis.allow_block?this.event.style:this.event.style&&"'"!==this.event.style||!this.analysis.allow_single_quoted||this.simple_key_context&&this.analysis.multiline?'"':"'":""}prepare_version([major,minor]){var version;return version=`${major}.${minor}`,1===major?version:this.error("unsupported YAML version",version)}prepare_tag_handle(handle){var char,i,len,ref;for(handle||this.error("tag handle must not be empty"),"!"===handle[0]&&"!"===handle.slice(-1)||this.error("tag handle must start and end with '!':",handle),i=0,len=(ref=handle.slice(1,-1)).length;i<len;i++)"0"<=(char=ref[i])&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-_",char)>=0||this.error(`invalid character '${char}' in the tag handle:`,handle);return handle}prepare_tag_prefix(prefix){var char,chunks,end,start;for(prefix||this.error("tag prefix must not be empty"),chunks=[],start=0,end=+("!"===prefix[0]);end<prefix.length;)"0"<=(char=prefix[end])&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-;/?!:@&=+$,_.~*'()[]",char)>=0?end++:(start<end&&chunks.push(prefix.slice(start,end)),start=end+=1,chunks.push(char));return start<end&&chunks.push(prefix.slice(start,end)),chunks.join("")}prepare_tag(tag){var char,chunks,end,handle,i,k,len,prefix,ref,start,suffix,suffix_text;if(tag||this.error("tag must not be empty"),"!"===tag)return tag;for(handle=null,suffix=tag,i=0,len=(ref=function(){var ref,results;ref=this.tag_prefixes,results=[];for(k in ref)hasProp.call(ref,k)&&results.push(k);return results}.call(this).sort()).length;i<len;i++)prefix=ref[i],0===tag.indexOf(prefix)&&("!"===prefix||prefix.length<tag.length)&&(handle=this.tag_prefixes[prefix],suffix=tag.slice(prefix.length));for(chunks=[],start=end=0;end<suffix.length;)"0"<=(char=suffix[end])&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-;/?!:@&=+$,_.~*'()[]",char)>=0||"!"===char&&"!"!==handle?end++:(start<end&&chunks.push(suffix.slice(start,end)),start=end+=1,chunks.push(char));return start<end&&chunks.push(suffix.slice(start,end)),suffix_text=chunks.join(""),handle?`${handle}${suffix_text}`:`!<${suffix_text}>`}prepare_anchor(anchor){var char,i,len;for(anchor||this.error("anchor must not be empty"),i=0,len=anchor.length;i<len;i++)"0"<=(char=anchor[i])&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-_",char)>=0||this.error(`invalid character '${char}' in the anchor:`,anchor);return anchor}analyze_scalar(scalar){var allow_block,allow_block_plain,allow_flow_plain,allow_single_quoted,block_indicators,break_space,char,flow_indicators,followed_by_whitespace,i,index,leading_break,leading_space,len,line_breaks,preceded_by_whitespace,previous_break,previous_space,ref,ref1,space_break,special_characters,trailing_break,trailing_space;for(scalar||new ScalarAnalysis(scalar,!0,!1,!1,!0,!0,!0,!1),block_indicators=!1,flow_indicators=!1,line_breaks=!1,special_characters=!1,!1,leading_space=!1,leading_break=!1,trailing_space=!1,trailing_break=!1,break_space=!1,space_break=!1,0!==scalar.indexOf("---")&&0!==scalar.indexOf("...")||(block_indicators=!0,flow_indicators=!0),preceded_by_whitespace=!0,followed_by_whitespace=1===scalar.length||(ref=scalar[1],indexOf.call("\0 \t\r\nÂ…\u2028\u2029",ref)>=0),previous_space=!1,previous_break=!1,index=0,index=i=0,len=scalar.length;i<len;index=++i)char=scalar[index],0===index?indexOf.call("#,[]{}&*!|>'\"%@`",char)>=0||"-"===char&&followed_by_whitespace?(flow_indicators=!0,block_indicators=!0):indexOf.call("?:",char)>=0&&(flow_indicators=!0,followed_by_whitespace&&(block_indicators=!0)):indexOf.call(",?[]{}",char)>=0?flow_indicators=!0:":"===char?(flow_indicators=!0,followed_by_whitespace&&(block_indicators=!0)):"#"===char&&preceded_by_whitespace&&(flow_indicators=!0,block_indicators=!0),indexOf.call("\nÂ…\u2028\u2029",char)>=0&&(line_breaks=!0),"\n"===char||" "<=char&&char<="~"||("\ufeff"!==char&&("Â…"===char||"Â "<=char&&char<="íŸ¿"||"î€€"<=char&&char<="ï¿½")?(!0,this.allow_unicode||(special_characters=!0)):special_characters=!0)," "===char?(0===index&&(leading_space=!0),index===scalar.length-1&&(trailing_space=!0),previous_break&&(break_space=!0),previous_break=!1,previous_space=!0):indexOf.call("\nÂ…\u2028\u2029",char)>=0?(0===index&&(leading_break=!0),index===scalar.length-1&&(trailing_break=!0),previous_space&&(space_break=!0),previous_break=!0,previous_space=!1):(previous_break=!1,previous_space=!1),preceded_by_whitespace=indexOf.call(C_WHITESPACE,char)>=0,followed_by_whitespace=index+2>=scalar.length||(ref1=scalar[index+2],indexOf.call(C_WHITESPACE,ref1)>=0);return allow_flow_plain=!0,allow_block_plain=!0,allow_single_quoted=!0,!0,allow_block=!0,(leading_space||leading_break||trailing_space||trailing_break)&&(allow_flow_plain=allow_block_plain=!1),trailing_space&&(allow_block=!1),break_space&&(allow_flow_plain=allow_block_plain=allow_single_quoted=!1),(space_break||special_characters)&&(allow_flow_plain=allow_block_plain=allow_single_quoted=allow_block=!1),line_breaks&&(allow_flow_plain=allow_block_plain=!1),flow_indicators&&(allow_flow_plain=!1),block_indicators&&(allow_block_plain=!1),new ScalarAnalysis(scalar,!1,line_breaks,allow_flow_plain,allow_block_plain,allow_single_quoted,!0,allow_block)}write_stream_start(){if(this.encoding&&0===this.encoding.indexOf("utf-16"))return this.stream.write("\ufeff",this.encoding)}write_stream_end(){return this.flush_stream()}write_indicator(indicator,need_whitespace,options={}){var data;return data=this.whitespace||!need_whitespace?indicator:" "+indicator,this.whitespace=!!options.whitespace,this.indentation&&(this.indentation=!!options.indentation),this.column+=data.length,this.open_ended=!1,this.stream.write(data,this.encoding)}write_indent(){var data,indent,ref;if(indent=null!=(ref=this.indent)?ref:0,(!this.indentation||this.column>indent||this.column===indent&&!this.whitespace)&&this.write_line_break(),this.column<indent)return this.whitespace=!0,data=new Array(indent-this.column+1).join(" "),this.column=indent,this.stream.write(data,this.encoding)}write_line_break(data){return this.whitespace=!0,this.indentation=!0,this.line+=1,this.column=0,this.stream.write(null!=data?data:this.best_line_break,this.encoding)}write_version_directive(version_text){return this.stream.write(`%YAML ${version_text}`,this.encoding),this.write_line_break()}write_tag_directive(handle_text,prefix_text){return this.stream.write(`%TAG ${handle_text} ${prefix_text}`,this.encoding),this.write_line_break()}write_single_quoted(text,split=!0){var br,breaks,char,data,end,i,len,ref,spaces,start;for(this.write_indicator("'",!0),spaces=!1,breaks=!1,start=end=0;end<=text.length;){if(char=text[end],spaces)null!=char&&" "===char||(start+1===end&&this.column>this.best_width&&split&&0!==start&&end!==text.length?this.write_indent():(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding)),start=end);else if(breaks){if(null==char||indexOf.call("\nÂ…\u2028\u2029",char)<0){for("\n"===text[start]&&this.write_line_break(),i=0,len=(ref=text.slice(start,end)).length;i<len;i++)"\n"===(br=ref[i])?this.write_line_break():this.write_line_break(br);this.write_indent(),start=end}}else(null==char||indexOf.call(" \nÂ…\u2028\u2029",char)>=0||"'"===char)&&start<end&&(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding),start=end);"'"===char&&(this.column+=2,this.stream.write("''",this.encoding),start=end+1),null!=char&&(spaces=" "===char,breaks=indexOf.call("\nÂ…\u2028\u2029",char)>=0),end++}return this.write_indicator("'",!1)}write_double_quoted(text,split=!0){var char,data,end,start;for(this.write_indicator('"',!0),start=end=0;end<=text.length;)(null==(char=text[end])||indexOf.call('"\\Â…\u2028\u2029\ufeff',char)>=0||!(" "<=char&&char<="~"||this.allow_unicode&&("Â "<=char&&char<="íŸ¿"||"î€€"<=char&&char<="ï¿½")))&&(start<end&&(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding),start=end),null!=char&&(data=char in ESCAPE_REPLACEMENTS?"\\"+ESCAPE_REPLACEMENTS[char]:char<="Ã¿"?`\\x${util.pad_left(util.to_hex(char),"0",2)}`:char<="ï¿¿"?`\\u${util.pad_left(util.to_hex(char),"0",4)}`:`\\U${util.pad_left(util.to_hex(char),"0",16)}`,this.column+=data.length,this.stream.write(data,this.encoding),start=end+1)),split&&0<end&&end<text.length-1&&(" "===char||start>=end)&&this.column+(end-start)>this.best_width&&(data=`${text.slice(start,end)}\\`,start<end&&(start=end),this.column+=data.length,this.stream.write(data,this.encoding),this.write_indent(),this.whitespace=!1,this.indentation=!1," "===text[start]&&(data="\\",this.column+=data.length,this.stream.write(data,this.encoding))),end++;return this.write_indicator('"',!1)}write_folded(text){var br,breaks,char,data,end,hints,i,leading_space,len,ref,results,spaces,start;for(hints=this.determine_block_hints(text),this.write_indicator(`>${hints}`,!0),"+"===hints.slice(-1)&&(this.open_ended=!0),this.write_line_break(),leading_space=!0,breaks=!0,spaces=!1,start=end=0,results=[];end<=text.length;){if(char=text[end],breaks){if(null==char||indexOf.call("\nÂ…\u2028\u2029",char)<0){for(leading_space||null==char||" "===char||"\n"!==text[start]||this.write_line_break(),leading_space=" "===char,i=0,len=(ref=text.slice(start,end)).length;i<len;i++)"\n"===(br=ref[i])?this.write_line_break():this.write_line_break(br);null!=char&&this.write_indent(),start=end}}else spaces?" "!==char&&(start+1===end&&this.column>this.best_width?this.write_indent():(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding)),start=end):(null==char||indexOf.call(" \nÂ…\u2028\u2029",char)>=0)&&(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding),null==char&&this.write_line_break(),start=end);null!=char&&(breaks=indexOf.call("\nÂ…\u2028\u2029",char)>=0,spaces=" "===char),results.push(end++)}return results}write_literal(text){var br,breaks,char,data,end,hints,i,len,ref,results,start;for(hints=this.determine_block_hints(text),this.write_indicator(`|${hints}`,!0),"+"===hints.slice(-1)&&(this.open_ended=!0),this.write_line_break(),breaks=!0,start=end=0,results=[];end<=text.length;){if(char=text[end],breaks){if(null==char||indexOf.call("\nÂ…\u2028\u2029",char)<0){for(i=0,len=(ref=text.slice(start,end)).length;i<len;i++)"\n"===(br=ref[i])?this.write_line_break():this.write_line_break(br);null!=char&&this.write_indent(),start=end}}else(null==char||indexOf.call("\nÂ…\u2028\u2029",char)>=0)&&(data=text.slice(start,end),this.stream.write(data,this.encoding),null==char&&this.write_line_break(),start=end);null!=char&&(breaks=indexOf.call("\nÂ…\u2028\u2029",char)>=0),results.push(end++)}return results}write_plain(text,split=!0){var br,breaks,char,data,end,i,len,ref,results,spaces,start;if(text){for(this.root_context&&(this.open_ended=!0),this.whitespace||(data=" ",this.column+=data.length,this.stream.write(data,this.encoding)),this.whitespace=!1,this.indentation=!1,spaces=!1,breaks=!1,start=end=0,results=[];end<=text.length;){if(char=text[end],spaces)" "!==char&&(start+1===end&&this.column>this.best_width&&split?(this.write_indent(),this.whitespace=!1,this.indentation=!1):(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding)),start=end);else if(breaks){if(indexOf.call("\nÂ…\u2028\u2029",char)<0){for("\n"===text[start]&&this.write_line_break(),i=0,len=(ref=text.slice(start,end)).length;i<len;i++)"\n"===(br=ref[i])?this.write_line_break():this.write_line_break(br);this.write_indent(),this.whitespace=!1,this.indentation=!1,start=end}}else(null==char||indexOf.call(" \nÂ…\u2028\u2029",char)>=0)&&(data=text.slice(start,end),this.column+=data.length,this.stream.write(data,this.encoding),start=end);null!=char&&(spaces=" "===char,breaks=indexOf.call("\nÂ…\u2028\u2029",char)>=0),results.push(end++)}return results}}determine_block_hints(text){var first,hints,i,last,penultimate;return hints="",first=text[0],i=text.length-2,penultimate=text[i++],last=text[i++],indexOf.call(" \nÂ…\u2028\u2029",first)>=0&&(hints+=this.best_indent),indexOf.call("\nÂ…\u2028\u2029",last)<0?hints+="-":(1===text.length||indexOf.call("\nÂ…\u2028\u2029",penultimate)>=0)&&(hints+="+"),hints}flush_stream(){var base;return"function"==typeof(base=this.stream).flush?base.flush():void 0}error(message,context){var ref,ref1;throw context&&(context=null!=(ref=null!=context&&null!=(ref1=context.constructor)?ref1.name:void 0)?ref:util.inspect(context)),new exports.EmitterError(`${message}${context?` ${context}`:""}`)}}return C_WHITESPACE="\0 \t\r\nÂ…\u2028\u2029",DEFAULT_TAG_PREFIXES={"!":"!","tag:yaml.org,2002:":"!!"},ESCAPE_REPLACEMENTS={"\0":"0","":"a","\b":"b","\t":"t","\n":"n","\v":"v","\f":"f","\r":"r","":"e",'"':'"',"\\":"\\","Â…":"N","Â ":"_","\u2028":"L","\u2029":"P"},ctor=Emitter.prototype.initialise,Emitter}.call(this),ScalarAnalysis=class{constructor(scalar1,empty,multiline,allow_flow_plain1,allow_block_plain1,allow_single_quoted1,allow_double_quoted1,allow_block1){this.scalar=scalar1,this.empty=empty,this.multiline=multiline,this.allow_flow_plain=allow_flow_plain1,this.allow_block_plain=allow_block_plain1,this.allow_single_quoted=allow_single_quoted1,this.allow_double_quoted=allow_double_quoted1,this.allow_block=allow_block1}}}).call(this)}),register({0:["./serializer"]},0,function(global,module,exports,require,window){(function(){var YAMLError,events,nodes,util;events=require("./events"),nodes=require("./nodes"),util=require("./util"),({YAMLError:YAMLError}=require("./errors")),this.SerializerError=class extends YAMLError{},this.Serializer=function(){var ctor;class Serializer{constructor(){return ctor.apply(this,arguments)}initialise({encoding:encoding,explicit_start:explicit_start,explicit_end:explicit_end,version:version,tags:tags}={}){return this.encoding=encoding,this.explicit_start=explicit_start,this.explicit_end=explicit_end,this.version=version,this.tags=tags,this.serialized_nodes={},this.anchors={},this.last_anchor_id=0,this.closed=null}open(){if(null===this.closed)return this.emit(new events.StreamStartEvent(this.encoding)),this.closed=!1;throw this.closed?new SerializerError("serializer is closed"):new SerializerError("serializer is already open")}close(){if(null===this.closed)throw new SerializerError("serializer is not opened");if(!this.closed)return this.emit(new events.StreamEndEvent),this.closed=!0}serialize(node){if(null===this.closed)throw new SerializerError("serializer is not opened");if(this.closed)throw new SerializerError("serializer is closed");return null!=node&&(this.emit(new events.DocumentStartEvent(void 0,void 0,this.explicit_start,this.version,this.tags)),this.anchor_node(node),this.serialize_node(node),this.emit(new events.DocumentEndEvent(void 0,void 0,this.explicit_end))),this.serialized_nodes={},this.anchors={},this.last_anchor_id=0}anchor_node(node){var base,i,item,j,key,len,len1,name,ref,ref1,results,results1,value;if(node.unique_id in this.anchors)return null!=(base=this.anchors)[name=node.unique_id]?base[name]:base[name]=this.generate_anchor(node);if(this.anchors[node.unique_id]=null,node instanceof nodes.SequenceNode){for(results=[],i=0,len=(ref=node.value).length;i<len;i++)item=ref[i],results.push(this.anchor_node(item));return results}if(node instanceof nodes.MappingNode){for(results1=[],j=0,len1=(ref1=node.value).length;j<len1;j++)[key,value]=ref1[j],this.anchor_node(key),results1.push(this.anchor_node(value));return results1}}generate_anchor(node){return`id${util.pad_left(++this.last_anchor_id,"0",4)}`}serialize_node(node,parent,index){var alias,default_tag,detected_tag,i,implicit,item,j,key,len,len1,ref,ref1,value;if(alias=this.anchors[node.unique_id],node.unique_id in this.serialized_nodes)return this.emit(new events.AliasEvent(alias));if(this.serialized_nodes[node.unique_id]=!0,this.descend_resolver(parent,index),node instanceof nodes.ScalarNode)detected_tag=this.resolve(nodes.ScalarNode,node.value,[!0,!1]),default_tag=this.resolve(nodes.ScalarNode,node.value,[!1,!0]),implicit=[node.tag===detected_tag,node.tag===default_tag],this.emit(new events.ScalarEvent(alias,node.tag,implicit,node.value,void 0,void 0,node.style));else if(node instanceof nodes.SequenceNode){for(implicit=node.tag===this.resolve(nodes.SequenceNode,node.value,!0),this.emit(new events.SequenceStartEvent(alias,node.tag,implicit,void 0,void 0,node.flow_style)),index=i=0,len=(ref=node.value).length;i<len;index=++i)item=ref[index],this.serialize_node(item,node,index);this.emit(new events.SequenceEndEvent)}else if(node instanceof nodes.MappingNode){for(implicit=node.tag===this.resolve(nodes.MappingNode,node.value,!0),this.emit(new events.MappingStartEvent(alias,node.tag,implicit,void 0,void 0,node.flow_style)),j=0,len1=(ref1=node.value).length;j<len1;j++)[key,value]=ref1[j],this.serialize_node(key,node,null),this.serialize_node(value,node,key);this.emit(new events.MappingEndEvent)}return this.ascend_resolver()}}return ctor=Serializer.prototype.initialise,Serializer}.call(this)}).call(this)}),register({0:["./representer"]},0,function(global,module,exports,require,window){(function(){var YAMLError,nodes,hasProp={}.hasOwnProperty;nodes=require("./nodes"),({YAMLError:YAMLError}=require("./errors")),this.RepresenterError=class extends YAMLError{},this.BaseRepresenter=function(){var ctor;class BaseRepresenter{constructor(){return ctor.apply(this,arguments)}static add_representer(data_type,handler){return this.prototype.hasOwnProperty("yaml_representers_types")||(this.prototype.yaml_representers_types=[].concat(this.prototype.yaml_representers_types)),this.prototype.hasOwnProperty("yaml_representers_handlers")||(this.prototype.yaml_representers_handlers=[].concat(this.prototype.yaml_representers_handlers)),this.prototype.yaml_representers_types.push(data_type),this.prototype.yaml_representers_handlers.push(handler)}static add_multi_representer(data_type,handler){return this.prototype.hasOwnProperty("yaml_multi_representers_types")||(this.prototype.yaml_multi_representers_types=[].concat(this.prototype.yaml_multi_representers_types)),this.prototype.hasOwnProperty("yaml_multi_representers_handlers")||(this.prototype.yaml_multi_representers_handlers=[].concat(this.prototype.yaml_multi_representers_handlers)),this.prototype.yaml_multi_representers_types.push(data_type),this.prototype.yaml_multi_representers_handlers.push(handler)}initialise({default_style:default_style,default_flow_style:default_flow_style}={}){return this.default_style=default_style,this.default_flow_style=default_flow_style,this.represented_objects={},this.object_keeper=[],this.alias_key=null}represent(data){var node;return node=this.represent_data(data),this.serialize(node),this.represented_objects={},this.object_keeper=[],this.alias_key=null}represent_data(data){var data_type,i,j,len,ref,representer,type;if(this.ignore_aliases(data))this.alias_key=null;else if(-1!==(i=this.object_keeper.indexOf(data))){if(this.alias_key=i,this.alias_key in this.represented_objects)return this.represented_objects[this.alias_key]}else this.alias_key=this.object_keeper.length,this.object_keeper.push(data);if(representer=null,"object"===(data_type=null===data?"null":typeof data)&&(data_type=data.constructor),-1!==(i=this.yaml_representers_types.lastIndexOf(data_type))&&(representer=this.yaml_representers_handlers[i]),null==representer)for(i=j=0,len=(ref=this.yaml_multi_representers_types).length;j<len;i=++j)if(type=ref[i],data instanceof type){representer=this.yaml_multi_representers_handlers[i];break}return null==representer&&(-1!==(i=this.yaml_multi_representers_types.lastIndexOf(void 0))?representer=this.yaml_multi_representers_handlers[i]:-1!==(i=this.yaml_representers_types.lastIndexOf(void 0))&&(representer=this.yaml_representers_handlers[i])),null!=representer?representer.call(this,data):new nodes.ScalarNode(null,`${data}`)}represent_scalar(tag,value,style=this.default_style){var node;return node=new nodes.ScalarNode(tag,value,null,null,style),null!=this.alias_key&&(this.represented_objects[this.alias_key]=node),node}represent_sequence(tag,sequence,flow_style){var best_style,item,j,len,node,node_item,ref,value;for(value=[],node=new nodes.SequenceNode(tag,value,null,null,flow_style),null!=this.alias_key&&(this.represented_objects[this.alias_key]=node),best_style=!0,j=0,len=sequence.length;j<len;j++)item=sequence[j],(node_item=this.represent_data(item))instanceof nodes.ScalarNode||node_item.style||(best_style=!1),value.push(node_item);return null==flow_style&&(node.flow_style=null!=(ref=this.default_flow_style)?ref:best_style),node}represent_mapping(tag,mapping,flow_style){var best_style,item_key,item_value,node,node_key,node_value,ref,value;value=[],node=new nodes.MappingNode(tag,value,flow_style),this.alias_key&&(this.represented_objects[this.alias_key]=node),best_style=!0;for(item_key in mapping)hasProp.call(mapping,item_key)&&(item_value=mapping[item_key],node_key=this.represent_data(item_key),node_value=this.represent_data(item_value),node_key instanceof nodes.ScalarNode||node_key.style||(best_style=!1),node_value instanceof nodes.ScalarNode||node_value.style||(best_style=!1),value.push([node_key,node_value]));return flow_style||(node.flow_style=null!=(ref=this.default_flow_style)?ref:best_style),node}ignore_aliases(data){return!1}}return BaseRepresenter.prototype.yaml_representers_types=[],BaseRepresenter.prototype.yaml_representers_handlers=[],BaseRepresenter.prototype.yaml_multi_representers_types=[],BaseRepresenter.prototype.yaml_multi_representers_handlers=[],ctor=BaseRepresenter.prototype.initialise,BaseRepresenter}.call(this),this.Representer=class extends this.BaseRepresenter{represent_boolean(data){return this.represent_scalar("tag:yaml.org,2002:bool",data?"true":"false")}represent_null(data){return this.represent_scalar("tag:yaml.org,2002:null","null")}represent_number(data){var tag,value;return tag=`tag:yaml.org,2002:${data%1==0?"int":"float"}`,value=data!=data?".nan":Infinity===data?".inf":-Infinity===data?"-.inf":data.toString(),this.represent_scalar(tag,value)}represent_string(data){return this.represent_scalar("tag:yaml.org,2002:str",data)}represent_array(data){return this.represent_sequence("tag:yaml.org,2002:seq",data)}represent_date(data){return this.represent_scalar("tag:yaml.org,2002:timestamp",data.toISOString())}represent_object(data){return this.represent_mapping("tag:yaml.org,2002:map",data)}represent_undefined(data){throw new exports.RepresenterError(`cannot represent an onbject: ${data}`)}ignore_aliases(data){var ref;return null==data||("boolean"==(ref=typeof data)||"number"===ref||"string"===ref)}},this.Representer.add_representer("boolean",this.Representer.prototype.represent_boolean),this.Representer.add_representer("null",this.Representer.prototype.represent_null),this.Representer.add_representer("number",this.Representer.prototype.represent_number),this.Representer.add_representer("string",this.Representer.prototype.represent_string),this.Representer.add_representer(Array,this.Representer.prototype.represent_array),this.Representer.add_representer(Date,this.Representer.prototype.represent_date),this.Representer.add_representer(Object,this.Representer.prototype.represent_object),this.Representer.add_representer(null,this.Representer.prototype.represent_undefined)}).call(this)}),register({0:["./resolver"]},0,function(global,module,exports,require,window){(function(){var YAMLError,nodes,util,indexOf=[].indexOf;nodes=require("./nodes"),util=require("./util"),({YAMLError:YAMLError}=require("./errors")),this.ResolverError=class extends YAMLError{},this.BaseResolver=function(){var DEFAULT_MAPPING_TAG,DEFAULT_SCALAR_TAG,DEFAULT_SEQUENCE_TAG,ctor;class BaseResolver{constructor(){return ctor.apply(this,arguments)}static add_implicit_resolver(tag,regexp,first=[null]){var base,char,i,len,results;for(this.prototype.hasOwnProperty("yaml_implicit_resolvers")||(this.prototype.yaml_implicit_resolvers=util.extend({},this.prototype.yaml_implicit_resolvers)),results=[],i=0,len=first.length;i<len;i++)char=first[i],results.push((null!=(base=this.prototype.yaml_implicit_resolvers)[char]?base[char]:base[char]=[]).push([tag,regexp]));return results}initialise(){return this.resolver_exact_paths=[],this.resolver_prefix_paths=[]}descend_resolver(current_node,current_index){var depth,exact_paths,i,j,kind,len,len1,path,prefix_paths,ref,ref1;if(!util.is_empty(this.yaml_path_resolvers)){if(exact_paths={},prefix_paths=[],current_node)for(depth=this.resolver_prefix_paths.length,i=0,len=(ref=this.resolver_prefix_paths.slice(-1)[0]).length;i<len;i++)[path,kind]=ref[i],this.check_resolver_prefix(depth,path,kind,current_node,current_index)&&(path.length>depth?prefix_paths.push([path,kind]):exact_paths[kind]=this.yaml_path_resolvers[path][kind]);else for(j=0,len1=(ref1=this.yaml_path_resolvers).length;j<len1;j++)[path,kind]=ref1[j],path?prefix_paths.push([path,kind]):exact_paths[kind]=this.yaml_path_resolvers[path][kind];return this.resolver_exact_paths.push(exact_paths),this.resolver_prefix_paths.push(prefix_paths)}}ascend_resolver(){if(!util.is_empty(this.yaml_path_resolvers))return this.resolver_exact_paths.pop(),this.resolver_prefix_paths.pop()}check_resolver_prefix(depth,path,kind,current_node,current_index){var index_check,node_check;if([node_check,index_check]=path[depth-1],"string"==typeof node_check){if(current_node.tag!==node_check)return}else if(null!==node_check&&!(current_node instanceof node_check))return;if((!0!==index_check||null===current_index)&&(!1!==index_check&&null!==index_check||null!==current_index)){if("string"==typeof index_check){if(!(current_index instanceof nodes.ScalarNode)&&index_check===current_index.value)return}else if("number"==typeof index_check&&index_check!==current_index)return;return!0}}resolve(kind,value,implicit){var empty,exact_paths,i,k,len,ref,ref1,ref2,regexp,resolvers,tag;if(kind===nodes.ScalarNode&&implicit[0]){for(i=0,len=(resolvers=(resolvers=""===value?null!=(ref=this.yaml_implicit_resolvers[""])?ref:[]:null!=(ref1=this.yaml_implicit_resolvers[value[0]])?ref1:[]).concat(null!=(ref2=this.yaml_implicit_resolvers.null)?ref2:[])).length;i<len;i++)if([tag,regexp]=resolvers[i],value.match(regexp))return tag;implicit=implicit[1]}empty=!0;for(k in this.yaml_path_resolvers)null=={}[k]&&(empty=!1);if(!empty){if(exact_paths=this.resolver_exact_paths.slice(-1)[0],indexOf.call(exact_paths,kind)>=0)return exact_paths[kind];if(indexOf.call(exact_paths,null)>=0)return exact_paths.null}return kind===nodes.ScalarNode?DEFAULT_SCALAR_TAG:kind===nodes.SequenceNode?DEFAULT_SEQUENCE_TAG:kind===nodes.MappingNode?DEFAULT_MAPPING_TAG:void 0}}return DEFAULT_SCALAR_TAG="tag:yaml.org,2002:str",DEFAULT_SEQUENCE_TAG="tag:yaml.org,2002:seq",DEFAULT_MAPPING_TAG="tag:yaml.org,2002:map",BaseResolver.prototype.yaml_implicit_resolvers={},BaseResolver.prototype.yaml_path_resolvers={},ctor=BaseResolver.prototype.initialise,BaseResolver}.call(this),this.Resolver=class extends this.BaseResolver{},this.Resolver.add_implicit_resolver("tag:yaml.org,2002:bool",/^(?:yes|Yes|YES|true|True|TRUE|on|On|ON|no|No|NO|false|False|FALSE|off|Off|OFF)$/,"yYnNtTfFoO"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:float",/^(?:[-+]?(?:[0-9][0-9_]*)\.[0-9_]*(?:[eE][-+][0-9]+)?|\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*|[-+]?\.(?:inf|Inf|INF)|\.(?:nan|NaN|NAN))$/,"-+0123456789."),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:int",/^(?:[-+]?0b[01_]+|[-+]?0[0-7_]+|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x[0-9a-fA-F_]+|[-+]?0o[0-7_]+|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$/,"-+0123456789"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:merge",/^(?:<<)$/,"<"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:null",/^(?:~|null|Null|NULL|)$/,["~","n","N",""]),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:timestamp",/^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[\x20\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\.[0-9]*)?(?:[\x20\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$/,"0123456789"),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:value",/^(?:=)$/,"="),this.Resolver.add_implicit_resolver("tag:yaml.org,2002:yaml",/^(?:!|&|\*)$/,"!&*")}).call(this)}),register({0:["./dumper"]},0,function(global,module,exports,require,window){(function(){var emitter,representer,resolver,serializer,util;util=require("./util"),emitter=require("./emitter"),serializer=require("./serializer"),representer=require("./representer"),resolver=require("./resolver"),this.make_dumper=function(Emitter=emitter.Emitter,Serializer=serializer.Serializer,Representer=representer.Representer,Resolver=resolver.Resolver){var components;return components=[Emitter,Serializer,Representer,Resolver],function(){var component;class Dumper{constructor(stream,options={}){var i,len,ref;for(components[0].prototype.initialise.call(this,stream,options),i=0,len=(ref=components.slice(1)).length;i<len;i++)(component=ref[i]).prototype.initialise.call(this,options)}}return util.extend(Dumper.prototype,...function(){var i,len,results;for(results=[],i=0,len=components.length;i<len;i++)component=components[i],results.push(component.prototype);return results}()),Dumper}.call(this)},this.Dumper=this.make_dumper()}).call(this)}),register({0:["./reader"]},0,function(global,module,exports,require,window){(function(){var Mark,YAMLError,indexOf=[].indexOf;({Mark:Mark,YAMLError:YAMLError}=require("./errors")),this.ReaderError=class extends YAMLError{constructor(position1,character1,reason){super(),this.position=position1,this.character=character1,this.reason=reason}toString(){return`unacceptable character #${this.character.charCodeAt(0).toString(16)}: ${this.reason}\n  position ${this.position}`}},this.Reader=function(){var NON_PRINTABLE,ctor;class Reader{constructor(){return ctor.apply(this,arguments)}initialise(string){return this.string=string,this.line=0,this.column=0,this.index=0,this.check_printable(),this.string+="\0"}peek(index=0){return this.string[this.index+index]}prefix(length=1){return this.string.slice(this.index,this.index+length)}forward(length=1){var char,results;for(results=[];length;)char=this.string[this.index],this.index++,indexOf.call("\nÂ…â‚‚\u2029",char)>=0||"\r"===char&&"\n"!==this.string[this.index]?(this.line++,this.column=0):this.column++,results.push(length--);return results}get_mark(){return new Mark(this.line,this.column,this.string,this.index)}check_printable(){var character,match,position;if(match=NON_PRINTABLE.exec(this.string))throw character=match[0],position=this.string.length-this.index+match.index,new exports.ReaderError(position,character,"special characters are not allowed")}}return NON_PRINTABLE=/[^\x09\x0A\x0D\x20-\x7E\x85\xA0-\uFFFD]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ctor=Reader.prototype.initialise,Reader}.call(this)}).call(this)}),register({0:["./tokens"]},0,function(global,module,exports,require,window){(function(){this.Token=class{constructor(start_mark1,end_mark1){this.start_mark=start_mark1,this.end_mark=end_mark1}},this.DirectiveToken=function(){class DirectiveToken extends this.Token{constructor(name,value,start_mark,end_mark){super(start_mark,end_mark),this.name=name,this.value=value}}return DirectiveToken.prototype.id="<directive>",DirectiveToken}.call(this),this.DocumentStartToken=function(){class DocumentStartToken extends this.Token{}return DocumentStartToken.prototype.id="<document start>",DocumentStartToken}.call(this),this.DocumentEndToken=function(){class DocumentEndToken extends this.Token{}return DocumentEndToken.prototype.id="<document end>",DocumentEndToken}.call(this),this.StreamStartToken=function(){class StreamStartToken extends this.Token{constructor(start_mark,end_mark,encoding){super(start_mark,end_mark),this.encoding=encoding}}return StreamStartToken.prototype.id="<stream start>",StreamStartToken}.call(this),this.StreamEndToken=function(){class StreamEndToken extends this.Token{}return StreamEndToken.prototype.id="<stream end>",StreamEndToken}.call(this),this.BlockSequenceStartToken=function(){class BlockSequenceStartToken extends this.Token{}return BlockSequenceStartToken.prototype.id="<block sequence start>",BlockSequenceStartToken}.call(this),this.BlockMappingStartToken=function(){class BlockMappingStartToken extends this.Token{}return BlockMappingStartToken.prototype.id="<block mapping end>",BlockMappingStartToken}.call(this),this.BlockEndToken=function(){class BlockEndToken extends this.Token{}return BlockEndToken.prototype.id="<block end>",BlockEndToken}.call(this),this.FlowSequenceStartToken=function(){class FlowSequenceStartToken extends this.Token{}return FlowSequenceStartToken.prototype.id="[",FlowSequenceStartToken}.call(this),this.FlowMappingStartToken=function(){class FlowMappingStartToken extends this.Token{}return FlowMappingStartToken.prototype.id="{",FlowMappingStartToken}.call(this),this.FlowSequenceEndToken=function(){class FlowSequenceEndToken extends this.Token{}return FlowSequenceEndToken.prototype.id="]",FlowSequenceEndToken}.call(this),this.FlowMappingEndToken=function(){class FlowMappingEndToken extends this.Token{}return FlowMappingEndToken.prototype.id="}",FlowMappingEndToken}.call(this),this.KeyToken=function(){class KeyToken extends this.Token{}return KeyToken.prototype.id="?",KeyToken}.call(this),this.ValueToken=function(){class ValueToken extends this.Token{}return ValueToken.prototype.id=":",ValueToken}.call(this),this.BlockEntryToken=function(){class BlockEntryToken extends this.Token{}return BlockEntryToken.prototype.id="-",BlockEntryToken}.call(this),this.FlowEntryToken=function(){class FlowEntryToken extends this.Token{}return FlowEntryToken.prototype.id=",",FlowEntryToken}.call(this),this.AliasToken=function(){class AliasToken extends this.Token{constructor(value,start_mark,end_mark){super(start_mark,end_mark),this.value=value}}return AliasToken.prototype.id="<alias>",AliasToken}.call(this),this.AnchorToken=function(){class AnchorToken extends this.Token{constructor(value,start_mark,end_mark){super(start_mark,end_mark),this.value=value}}return AnchorToken.prototype.id="<anchor>",AnchorToken}.call(this),this.TagToken=function(){class TagToken extends this.Token{constructor(value,start_mark,end_mark){super(start_mark,end_mark),this.value=value}}return TagToken.prototype.id="<tag>",TagToken}.call(this),this.ScalarToken=function(){class ScalarToken extends this.Token{constructor(value,plain,start_mark,end_mark,style){super(start_mark,end_mark),this.value=value,this.plain=plain,this.style=style}}return ScalarToken.prototype.id="<scalar>",ScalarToken}.call(this)}).call(this)}),register({0:["./scanner"]},0,function(global,module,exports,require,window){(function(){var MarkedYAMLError,SimpleKey,tokens,util,hasProp={}.hasOwnProperty,indexOf=[].indexOf;({MarkedYAMLError:MarkedYAMLError}=require("./errors")),tokens=require("./tokens"),util=require("./util"),this.ScannerError=class extends MarkedYAMLError{},SimpleKey=class{constructor(token_number1,required1,index,line,column1,mark1){this.token_number=token_number1,this.required=required1,this.index=index,this.line=line,this.column=column1,this.mark=mark1}},this.Scanner=function(){var C_LB,C_NUMBERS,C_WS,ESCAPE_CODES,ESCAPE_REPLACEMENTS,ctor;class Scanner{constructor(){return ctor.apply(this,arguments)}initialise(){return this.done=!1,this.flow_level=0,this.tokens=[],this.fetch_stream_start(),this.tokens_taken=0,this.indent=-1,this.indents=[],this.allow_simple_key=!0,this.possible_simple_keys={}}check_token(...choices){for(var choice,i,len;this.need_more_tokens();)this.fetch_more_tokens();if(0!==this.tokens.length){if(0===choices.length)return!0;for(i=0,len=choices.length;i<len;i++)if(choice=choices[i],this.tokens[0]instanceof choice)return!0}return!1}peek_token(){for(;this.need_more_tokens();)this.fetch_more_tokens();if(0!==this.tokens.length)return this.tokens[0]}get_token(){for(;this.need_more_tokens();)this.fetch_more_tokens();if(0!==this.tokens.length)return this.tokens_taken++,this.tokens.shift()}need_more_tokens(){return!this.done&&(0===this.tokens.length||(this.stale_possible_simple_keys(),this.next_possible_simple_key()===this.tokens_taken))}fetch_more_tokens(){var char;if(this.scan_to_next_token(),this.stale_possible_simple_keys(),this.unwind_indent(this.column),"\0"===(char=this.peek()))return this.fetch_stream_end();if("%"===char&&this.check_directive())return this.fetch_directive();if("-"===char&&this.check_document_start())return this.fetch_document_start();if("."===char&&this.check_document_end())return this.fetch_document_end();if("["===char)return this.fetch_flow_sequence_start();if("{"===char)return this.fetch_flow_mapping_start();if("]"===char)return this.fetch_flow_sequence_end();if("}"===char)return this.fetch_flow_mapping_end();if(","===char)return this.fetch_flow_entry();if("-"===char&&this.check_block_entry())return this.fetch_block_entry();if("?"===char&&this.check_key())return this.fetch_key();if(":"===char&&this.check_value())return this.fetch_value();if("*"===char)return this.fetch_alias();if("&"===char)return this.fetch_anchor();if("!"===char)return this.fetch_tag();if("|"===char&&0===this.flow_level)return this.fetch_literal();if(">"===char&&0===this.flow_level)return this.fetch_folded();if("'"===char)return this.fetch_single();if('"'===char)return this.fetch_double();if(this.check_plain())return this.fetch_plain();throw new exports.ScannerError("while scanning for the next token",null,`found character ${char} that cannot start any token`,this.get_mark())}next_possible_simple_key(){var key,level,min_token_number,ref;min_token_number=null,ref=this.possible_simple_keys;for(level in ref)hasProp.call(ref,level)&&(key=ref[level],(null===min_token_number||key.token_number<min_token_number)&&(min_token_number=key.token_number));return min_token_number}stale_possible_simple_keys(){var key,level,ref,results;ref=this.possible_simple_keys,results=[];for(level in ref)if(hasProp.call(ref,level)&&!((key=ref[level]).line===this.line&&this.index-key.index<=1024)){if(key.required)throw new exports.ScannerError("while scanning a simple key",key.mark,"could not find expected ':'",this.get_mark());results.push(delete this.possible_simple_keys[level])}return results}save_possible_simple_key(){var required,token_number;if((required=0===this.flow_level&&this.indent===this.column)&&!this.allow_simple_key)throw new Error("logic failure");if(this.allow_simple_key)return this.remove_possible_simple_key(),token_number=this.tokens_taken+this.tokens.length,this.possible_simple_keys[this.flow_level]=new SimpleKey(token_number,required,this.index,this.line,this.column,this.get_mark())}remove_possible_simple_key(){var key;if(key=this.possible_simple_keys[this.flow_level]){if(key.required)throw new exports.ScannerError("while scanning a simple key",key.mark,"could not find expected ':'",this.get_mark());return delete this.possible_simple_keys[this.flow_level]}}unwind_indent(column){var mark,results;if(0===this.flow_level){for(results=[];this.indent>column;)mark=this.get_mark(),this.indent=this.indents.pop(),results.push(this.tokens.push(new tokens.BlockEndToken(mark,mark)));return results}}add_indent(column){return column>this.indent&&(this.indents.push(this.indent),this.indent=column,!0)}fetch_stream_start(){var mark;return mark=this.get_mark(),this.tokens.push(new tokens.StreamStartToken(mark,mark,this.encoding))}fetch_stream_end(){var mark;return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_possible_simple_key=!1,this.possible_simple_keys={},mark=this.get_mark(),this.tokens.push(new tokens.StreamEndToken(mark,mark)),this.done=!0}fetch_directive(){return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_directive())}fetch_document_start(){return this.fetch_document_indicator(tokens.DocumentStartToken)}fetch_document_end(){return this.fetch_document_indicator(tokens.DocumentEndToken)}fetch_document_indicator(TokenClass){var start_mark;return this.unwind_indent(-1),this.remove_possible_simple_key(),this.allow_simple_key=!1,start_mark=this.get_mark(),this.forward(3),this.tokens.push(new TokenClass(start_mark,this.get_mark()))}fetch_flow_sequence_start(){return this.fetch_flow_collection_start(tokens.FlowSequenceStartToken)}fetch_flow_mapping_start(){return this.fetch_flow_collection_start(tokens.FlowMappingStartToken)}fetch_flow_collection_start(TokenClass){var start_mark;return this.save_possible_simple_key(),this.flow_level++,this.allow_simple_key=!0,start_mark=this.get_mark(),this.forward(),this.tokens.push(new TokenClass(start_mark,this.get_mark()))}fetch_flow_sequence_end(){return this.fetch_flow_collection_end(tokens.FlowSequenceEndToken)}fetch_flow_mapping_end(){return this.fetch_flow_collection_end(tokens.FlowMappingEndToken)}fetch_flow_collection_end(TokenClass){var start_mark;return this.remove_possible_simple_key(),this.flow_level--,this.allow_simple_key=!1,start_mark=this.get_mark(),this.forward(),this.tokens.push(new TokenClass(start_mark,this.get_mark()))}fetch_flow_entry(){var start_mark;return this.allow_simple_key=!0,this.remove_possible_simple_key(),start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.FlowEntryToken(start_mark,this.get_mark()))}fetch_block_entry(){var mark,start_mark;if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"sequence entries are not allowed here",this.get_mark());this.add_indent(this.column)&&(mark=this.get_mark(),this.tokens.push(new tokens.BlockSequenceStartToken(mark,mark)))}return this.allow_simple_key=!0,this.remove_possible_simple_key(),start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.BlockEntryToken(start_mark,this.get_mark()))}fetch_key(){var mark,start_mark;if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"mapping keys are not allowed here",this.get_mark());this.add_indent(this.column)&&(mark=this.get_mark(),this.tokens.push(new tokens.BlockMappingStartToken(mark,mark)))}return this.allow_simple_key=!this.flow_level,this.remove_possible_simple_key(),start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.KeyToken(start_mark,this.get_mark()))}fetch_value(){var key,mark,start_mark;if(key=this.possible_simple_keys[this.flow_level])delete this.possible_simple_keys[this.flow_level],this.tokens.splice(key.token_number-this.tokens_taken,0,new tokens.KeyToken(key.mark,key.mark)),0===this.flow_level&&this.add_indent(key.column)&&this.tokens.splice(key.token_number-this.tokens_taken,0,new tokens.BlockMappingStartToken(key.mark,key.mark)),this.allow_simple_key=!1;else{if(0===this.flow_level){if(!this.allow_simple_key)throw new exports.ScannerError(null,null,"mapping values are not allowed here",this.get_mark());this.add_indent(this.column)&&(mark=this.get_mark(),this.tokens.push(new tokens.BlockMappingStartToken(mark,mark)))}this.allow_simple_key=!this.flow_level,this.remove_possible_simple_key()}return start_mark=this.get_mark(),this.forward(),this.tokens.push(new tokens.ValueToken(start_mark,this.get_mark()))}fetch_alias(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_anchor(tokens.AliasToken))}fetch_anchor(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_anchor(tokens.AnchorToken))}fetch_tag(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_tag())}fetch_literal(){return this.fetch_block_scalar("|")}fetch_folded(){return this.fetch_block_scalar(">")}fetch_block_scalar(style){return this.allow_simple_key=!0,this.remove_possible_simple_key(),this.tokens.push(this.scan_block_scalar(style))}fetch_single(){return this.fetch_flow_scalar("'")}fetch_double(){return this.fetch_flow_scalar('"')}fetch_flow_scalar(style){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_flow_scalar(style))}fetch_plain(){return this.save_possible_simple_key(),this.allow_simple_key=!1,this.tokens.push(this.scan_plain())}check_directive(){return 0===this.column}check_document_start(){var ref;return 0===this.column&&"---"===this.prefix(3)&&(ref=this.peek(3),indexOf.call(C_LB+C_WS+"\0",ref)>=0)}check_document_end(){var ref;return 0===this.column&&"..."===this.prefix(3)&&(ref=this.peek(3),indexOf.call(C_LB+C_WS+"\0",ref)>=0)}check_block_entry(){var ref;return ref=this.peek(1),indexOf.call(C_LB+C_WS+"\0",ref)>=0}check_key(){var ref;return 0!==this.flow_level||(ref=this.peek(1),indexOf.call(C_LB+C_WS+"\0",ref)>=0)}check_value(){var ref;return 0!==this.flow_level||(ref=this.peek(1),indexOf.call(C_LB+C_WS+"\0",ref)>=0)}check_plain(){var char,ref;return char=this.peek(),indexOf.call(C_LB+C_WS+"\0-?:,[]{}#&*!|>'\"%@`",char)<0||(ref=this.peek(1),indexOf.call(C_LB+C_WS+"\0",ref)<0&&("-"===char||0===this.flow_level&&indexOf.call("?:",char)>=0))}scan_to_next_token(){var found,ref,results;for(0===this.index&&"\ufeff"===this.peek()&&this.forward(),found=!1,results=[];!found;){for(;" "===this.peek();)this.forward();if("#"===this.peek())for(;ref=this.peek(),indexOf.call(C_LB+"\0",ref)<0;)this.forward();this.scan_line_break()?0===this.flow_level?results.push(this.allow_simple_key=!0):results.push(void 0):results.push(found=!0)}return results}scan_directive(){var end_mark,name,ref,start_mark,value;if(start_mark=this.get_mark(),this.forward(),name=this.scan_directive_name(start_mark),value=null,"YAML"===name)value=this.scan_yaml_directive_value(start_mark),end_mark=this.get_mark();else if("TAG"===name)value=this.scan_tag_directive_value(start_mark),end_mark=this.get_mark();else for(end_mark=this.get_mark();ref=this.peek(),indexOf.call(C_LB+"\0",ref)<0;)this.forward();return this.scan_directive_ignored_line(start_mark),new tokens.DirectiveToken(name,value,start_mark,end_mark)}scan_directive_name(start_mark){var char,length,value;for(length=0,char=this.peek(length);"0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-_",char)>=0;)length++,char=this.peek(length);if(0===length)throw new exports.ScannerError("while scanning a directive",start_mark,`expected alphanumeric or numeric character but found ${char}`,this.get_mark());if(value=this.prefix(length),this.forward(length),char=this.peek(),indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a directive",start_mark,`expected alphanumeric or numeric character but found ${char}`,this.get_mark());return value}scan_yaml_directive_value(start_mark){for(var major,minor,ref;" "===this.peek();)this.forward();if(major=this.scan_yaml_directive_number(start_mark),"."!==this.peek())throw new exports.ScannerError("while scanning a directive",start_mark,`expected a digit or '.' but found ${this.peek()}`,this.get_mark());if(this.forward(),minor=this.scan_yaml_directive_number(start_mark),ref=this.peek(),indexOf.call(C_LB+"\0 ",ref)<0)throw new exports.ScannerError("while scanning a directive",start_mark,`expected a digit or ' ' but found ${this.peek()}`,this.get_mark());return[major,minor]}scan_yaml_directive_number(start_mark){var char,length,ref,value;if(!("0"<=(char=this.peek())&&char<="9"))throw new exports.ScannerError("while scanning a directive",start_mark,`expected a digit but found ${char}`,this.get_mark());for(length=0;"0"<=(ref=this.peek(length))&&ref<="9";)length++;return value=parseInt(this.prefix(length)),this.forward(length),value}scan_tag_directive_value(start_mark){for(var handle,prefix;" "===this.peek();)this.forward();for(handle=this.scan_tag_directive_handle(start_mark);" "===this.peek();)this.forward();return prefix=this.scan_tag_directive_prefix(start_mark),[handle,prefix]}scan_tag_directive_handle(start_mark){var char,value;if(value=this.scan_tag_handle("directive",start_mark)," "!==(char=this.peek()))throw new exports.ScannerError("while scanning a directive",start_mark,`expected ' ' but found ${char}`,this.get_mark());return value}scan_tag_directive_prefix(start_mark){var char,value;if(value=this.scan_tag_uri("directive",start_mark),char=this.peek(),indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a directive",start_mark,`expected ' ' but found ${char}`,this.get_mark());return value}scan_directive_ignored_line(start_mark){for(var char,ref;" "===this.peek();)this.forward();if("#"===this.peek())for(;ref=this.peek(),indexOf.call(C_LB+"\0",ref)<0;)this.forward();if(char=this.peek(),indexOf.call(C_LB+"\0",char)<0)throw new exports.ScannerError("while scanning a directive",start_mark,`expected a comment or a line break but found ${char}`,this.get_mark());return this.scan_line_break()}scan_anchor(TokenClass){var char,length,name,start_mark,value;for(start_mark=this.get_mark(),name="*"===this.peek()?"alias":"anchor",this.forward(),length=0,char=this.peek(length);"0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-_",char)>=0;)length++,char=this.peek(length);if(0===length)throw new exports.ScannerError(`while scanning an ${name}`,start_mark,`expected alphabetic or numeric character but found '${char}'`,this.get_mark());if(value=this.prefix(length),this.forward(length),char=this.peek(),indexOf.call(C_LB+C_WS+"\0?:,]}%@`",char)<0)throw new exports.ScannerError(`while scanning an ${name}`,start_mark,`expected alphabetic or numeric character but found '${char}'`,this.get_mark());return new TokenClass(value,start_mark,this.get_mark())}scan_tag(){var char,handle,length,start_mark,suffix,use_handle;if(start_mark=this.get_mark(),"<"===(char=this.peek(1))){if(handle=null,this.forward(2),suffix=this.scan_tag_uri("tag",start_mark),">"!==this.peek())throw new exports.ScannerError("while parsing a tag",start_mark,`expected '>' but found ${this.peek()}`,this.get_mark());this.forward()}else if(indexOf.call(C_LB+C_WS+"\0",char)>=0)handle=null,suffix="!",this.forward();else{for(length=1,use_handle=!1;indexOf.call(C_LB+"\0 ",char)<0;){if("!"===char){use_handle=!0;break}length++,char=this.peek(length)}use_handle?handle=this.scan_tag_handle("tag",start_mark):(handle="!",this.forward()),suffix=this.scan_tag_uri("tag",start_mark)}if(char=this.peek(),indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a tag",start_mark,`expected ' ' but found ${char}`,this.get_mark());return new tokens.TagToken([handle,suffix],start_mark,this.get_mark())}scan_block_scalar(style){var breaks,chomping,chunks,end_mark,folded,increment,indent,leading_non_space,length,line_break,max_indent,min_indent,ref,ref1,ref2,start_mark;for(folded=">"===style,chunks=[],start_mark=this.get_mark(),this.forward(),[chomping,increment]=this.scan_block_scalar_indicators(start_mark),this.scan_block_scalar_ignored_line(start_mark),(min_indent=this.indent+1)<1&&(min_indent=1),null==increment?([breaks,max_indent,end_mark]=this.scan_block_scalar_indentation(),indent=Math.max(min_indent,max_indent)):(indent=min_indent+increment-1,[breaks,end_mark]=this.scan_block_scalar_breaks(indent)),line_break="";this.column===indent&&"\0"!==this.peek();){for(chunks=chunks.concat(breaks),ref=this.peek(),leading_non_space=indexOf.call(" \t",ref)<0,length=0;ref1=this.peek(length),indexOf.call(C_LB+"\0",ref1)<0;)length++;if(chunks.push(this.prefix(length)),this.forward(length),line_break=this.scan_line_break(),[breaks,end_mark]=this.scan_block_scalar_breaks(indent),this.column!==indent||"\0"===this.peek())break;folded&&"\n"===line_break&&leading_non_space&&(ref2=this.peek(),indexOf.call(" \t",ref2)<0)?util.is_empty(breaks)&&chunks.push(" "):chunks.push(line_break)}return!1!==chomping&&chunks.push(line_break),!0===chomping&&(chunks=chunks.concat(breaks)),new tokens.ScalarToken(chunks.join(""),!1,start_mark,end_mark,style)}scan_block_scalar_indicators(start_mark){var char,chomping,increment;if(chomping=null,increment=null,char=this.peek(),indexOf.call("+-",char)>=0){if(chomping="+"===char,this.forward(),char=this.peek(),indexOf.call(C_NUMBERS,char)>=0){if(0===(increment=parseInt(char)))throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected indentation indicator in the range 1-9 but found 0",this.get_mark());this.forward()}}else if(indexOf.call(C_NUMBERS,char)>=0){if(0===(increment=parseInt(char)))throw new exports.ScannerError("while scanning a block scalar",start_mark,"expected indentation indicator in the range 1-9 but found 0",this.get_mark());this.forward(),char=this.peek(),indexOf.call("+-",char)>=0&&(chomping="+"===char,this.forward())}if(char=this.peek(),indexOf.call(C_LB+"\0 ",char)<0)throw new exports.ScannerError("while scanning a block scalar",start_mark,`expected chomping or indentation indicators, but found ${char}`,this.get_mark());return[chomping,increment]}scan_block_scalar_ignored_line(start_mark){for(var char,ref;" "===this.peek();)this.forward();if("#"===this.peek())for(;ref=this.peek(),indexOf.call(C_LB+"\0",ref)<0;)this.forward();if(char=this.peek(),indexOf.call(C_LB+"\0",char)<0)throw new exports.ScannerError("while scanning a block scalar",start_mark,`expected a comment or a line break but found ${char}`,this.get_mark());return this.scan_line_break()}scan_block_scalar_indentation(){var chunks,end_mark,max_indent,ref;for(chunks=[],max_indent=0,end_mark=this.get_mark();ref=this.peek(),indexOf.call(C_LB+" ",ref)>=0;)" "!==this.peek()?(chunks.push(this.scan_line_break()),end_mark=this.get_mark()):(this.forward(),this.column>max_indent&&(max_indent=this.column));return[chunks,max_indent,end_mark]}scan_block_scalar_breaks(indent){var chunks,end_mark,ref;for(chunks=[],end_mark=this.get_mark();this.column<indent&&" "===this.peek();)this.forward();for(;ref=this.peek(),indexOf.call(C_LB,ref)>=0;)for(chunks.push(this.scan_line_break()),end_mark=this.get_mark();this.column<indent&&" "===this.peek();)this.forward();return[chunks,end_mark]}scan_flow_scalar(style){var chunks,double,quote,start_mark;for(double='"'===style,chunks=[],start_mark=this.get_mark(),quote=this.peek(),this.forward(),chunks=chunks.concat(this.scan_flow_scalar_non_spaces(double,start_mark));this.peek()!==quote;)chunks=(chunks=chunks.concat(this.scan_flow_scalar_spaces(double,start_mark))).concat(this.scan_flow_scalar_non_spaces(double,start_mark));return this.forward(),new tokens.ScalarToken(chunks.join(""),!1,start_mark,this.get_mark(),style)}scan_flow_scalar_non_spaces(double,start_mark){var char,chunks,code,i,k,length,ref,ref1,ref2;for(chunks=[];;){for(length=0;ref=this.peek(length),indexOf.call(C_LB+C_WS+"'\"\\\0",ref)<0;)length++;if(0!==length&&(chunks.push(this.prefix(length)),this.forward(length)),char=this.peek(),double||"'"!==char||"'"!==this.peek(1))if(double&&"'"===char||!double&&indexOf.call('"\\',char)>=0)chunks.push(char),this.forward();else{if(!double||"\\"!==char)return chunks;if(this.forward(),(char=this.peek())in ESCAPE_REPLACEMENTS)chunks.push(ESCAPE_REPLACEMENTS[char]),this.forward();else if(char in ESCAPE_CODES){for(length=ESCAPE_CODES[char],this.forward(),k=i=0,ref1=length;0<=ref1?i<ref1:i>ref1;k=0<=ref1?++i:--i)if(ref2=this.peek(k),indexOf.call(`${C_NUMBERS}ABCDEFabcdef`,ref2)<0)throw new exports.ScannerError("while scanning a double-quoted scalar",start_mark,`expected escape sequence of ${length} hexadecimal numbers, but found ${this.peek(k)}`,this.get_mark());code=parseInt(this.prefix(length),16),chunks.push(String.fromCharCode(code)),this.forward(length)}else{if(!(indexOf.call(C_LB,char)>=0))throw new exports.ScannerError("while scanning a double-quoted scalar",start_mark,`found unknown escape character ${char}`,this.get_mark());this.scan_line_break(),chunks=chunks.concat(this.scan_flow_scalar_breaks(double,start_mark))}}else chunks.push("'"),this.forward(2)}}scan_flow_scalar_spaces(double,start_mark){var breaks,char,chunks,length,line_break,ref,whitespaces;for(chunks=[],length=0;ref=this.peek(length),indexOf.call(C_WS,ref)>=0;)length++;if(whitespaces=this.prefix(length),this.forward(length),"\0"===(char=this.peek()))throw new exports.ScannerError("while scanning a quoted scalar",start_mark,"found unexpected end of stream",this.get_mark());return indexOf.call(C_LB,char)>=0?(line_break=this.scan_line_break(),breaks=this.scan_flow_scalar_breaks(double,start_mark),"\n"!==line_break?chunks.push(line_break):0===breaks.length&&chunks.push(" "),chunks=chunks.concat(breaks)):chunks.push(whitespaces),chunks}scan_flow_scalar_breaks(double,start_mark){var chunks,prefix,ref,ref1,ref2;for(chunks=[];;){if("---"===(prefix=this.prefix(3))||"..."===prefix&&(ref=this.peek(3),indexOf.call(C_LB+C_WS+"\0",ref)>=0))throw new exports.ScannerError("while scanning a quoted scalar",start_mark,"found unexpected document separator",this.get_mark());for(;ref1=this.peek(),indexOf.call(C_WS,ref1)>=0;)this.forward();if(ref2=this.peek(),!(indexOf.call(C_LB,ref2)>=0))return chunks;chunks.push(this.scan_line_break())}}scan_plain(){var char,chunks,end_mark,indent,length,ref,ref1,spaces,start_mark;for(chunks=[],start_mark=end_mark=this.get_mark(),indent=this.indent+1,spaces=[];length=0,"#"!==this.peek();){for(;char=this.peek(length),!(indexOf.call(C_LB+C_WS+"\0",char)>=0||0===this.flow_level&&":"===char&&(ref=this.peek(length+1),indexOf.call(C_LB+C_WS+"\0",ref)>=0)||0!==this.flow_level&&indexOf.call(",:?[]{}",char)>=0);)length++;if(0!==this.flow_level&&":"===char&&(ref1=this.peek(length+1),indexOf.call(C_LB+C_WS+"\0,[]{}",ref1)<0))throw this.forward(length),new exports.ScannerError("while scanning a plain scalar",start_mark,"found unexpected ':'",this.get_mark(),"Please check http://pyyaml.org/wiki/YAMLColonInFlowContext");if(0===length)break;if(this.allow_simple_key=!1,(chunks=chunks.concat(spaces)).push(this.prefix(length)),this.forward(length),end_mark=this.get_mark(),null==(spaces=this.scan_plain_spaces(indent,start_mark))||0===spaces.length||"#"===this.peek()||0===this.flow_level&&this.column<indent)break}return new tokens.ScalarToken(chunks.join(""),!0,start_mark,end_mark)}scan_plain_spaces(indent,start_mark){var breaks,char,chunks,length,line_break,prefix,ref,ref1,ref2,ref3,whitespaces;for(chunks=[],length=0;ref=this.peek(length),indexOf.call(" ",ref)>=0;)length++;if(whitespaces=this.prefix(length),this.forward(length),char=this.peek(),indexOf.call(C_LB,char)>=0){if(line_break=this.scan_line_break(),this.allow_simple_key=!0,"---"===(prefix=this.prefix(3))||"..."===prefix&&(ref1=this.peek(3),indexOf.call(C_LB+C_WS+"\0",ref1)>=0))return;for(breaks=[];ref3=this.peek(),indexOf.call(C_LB+" ",ref3)>=0;)if(" "===this.peek())this.forward();else if(breaks.push(this.scan_line_break()),"---"===(prefix=this.prefix(3))||"..."===prefix&&(ref2=this.peek(3),indexOf.call(C_LB+C_WS+"\0",ref2)>=0))return;"\n"!==line_break?chunks.push(line_break):0===breaks.length&&chunks.push(" "),chunks=chunks.concat(breaks)}else whitespaces&&chunks.push(whitespaces);return chunks}scan_tag_handle(name,start_mark){var char,length,value;if("!"!==(char=this.peek()))throw new exports.ScannerError(`while scanning a ${name}`,start_mark,`expected '!' but found ${char}`,this.get_mark());if(length=1," "!==(char=this.peek(length))){for(;"0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-_",char)>=0;)length++,char=this.peek(length);if("!"!==char)throw this.forward(length),new exports.ScannerError(`while scanning a ${name}`,start_mark,`expected '!' but found ${char}`,this.get_mark());length++}return value=this.prefix(length),this.forward(length),value}scan_tag_uri(name,start_mark){var char,chunks,length;for(chunks=[],length=0,char=this.peek(length);"0"<=char&&char<="9"||"A"<=char&&char<="Z"||"a"<=char&&char<="z"||indexOf.call("-;/?:@&=+$,_.!~*'()[]%",char)>=0;)"%"===char?(chunks.push(this.prefix(length)),this.forward(length),length=0,chunks.push(this.scan_uri_escapes(name,start_mark))):length++,char=this.peek(length);if(0!==length&&(chunks.push(this.prefix(length)),this.forward(length),length=0),0===chunks.length)throw new exports.ScannerError(`while parsing a ${name}`,start_mark,`expected URI but found ${char}`,this.get_mark());return chunks.join("")}scan_uri_escapes(name,start_mark){var bytes,i,k;for(bytes=[],this.get_mark();"%"===this.peek();){for(this.forward(),k=i=0;i<=2;k=++i)throw new exports.ScannerError(`while scanning a ${name}`,start_mark,`expected URI escape sequence of 2 hexadecimal numbers but found ${this.peek(k)}`,this.get_mark());bytes.push(String.fromCharCode(parseInt(this.prefix(2),16))),this.forward(2)}return bytes.join("")}scan_line_break(){var char;return char=this.peek(),indexOf.call("\r\nÂ…",char)>=0?("\r\n"===this.prefix(2)?this.forward(2):this.forward(),"\n"):indexOf.call("\u2028\u2029",char)>=0?(this.forward(),char):""}}return C_LB="\r\nÂ…\u2028\u2029",C_WS="\t ",C_NUMBERS="0123456789",ESCAPE_REPLACEMENTS={0:"\0",a:"",b:"\b",t:"\t","\t":"\t",n:"\n",v:"\v",f:"\f",r:"\r",e:""," ":" ",'"':'"',"\\":"\\",N:"Â…",_:"Â ",L:"\u2028",P:"\u2029"},ESCAPE_CODES={x:2,u:4,U:8},ctor=Scanner.prototype.initialise,Scanner}.call(this)}).call(this)}),register({0:["./parser"]},0,function(global,module,exports,require,window){(function(){var MarkedYAMLError,events,tokens,hasProp={}.hasOwnProperty;events=require("./events"),({MarkedYAMLError:MarkedYAMLError}=require("./errors")),tokens=require("./tokens"),this.ParserError=class extends MarkedYAMLError{},this.Parser=function(){var DEFAULT_TAGS,ctor;class Parser{constructor(){return ctor.apply(this,arguments)}initialise(){return this.current_event=null,this.yaml_version=null,this.tag_handles={},this.states=[],this.marks=[],this.state="parse_stream_start"}dispose(){return this.states=[],this.state=null}check_event(...choices){var choice,i,len;if(null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),null!==this.current_event){if(0===choices.length)return!0;for(i=0,len=choices.length;i<len;i++)if(choice=choices[i],this.current_event instanceof choice)return!0}return!1}peek_event(){return null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),this.current_event}get_event(){var event;return null===this.current_event&&null!=this.state&&(this.current_event=this[this.state]()),event=this.current_event,this.current_event=null,event}parse_stream_start(){var event,token;return token=this.get_token(),event=new events.StreamStartEvent(token.start_mark,token.end_mark),this.state="parse_implicit_document_start",event}parse_implicit_document_start(){var end_mark,event,start_mark,token;return this.check_token(tokens.DirectiveToken,tokens.DocumentStartToken,tokens.StreamEndToken)?this.parse_document_start():(this.tag_handles=DEFAULT_TAGS,token=this.peek_token(),start_mark=end_mark=token.start_mark,event=new events.DocumentStartEvent(start_mark,end_mark,!1),this.states.push("parse_document_end"),this.state="parse_block_node",event)}parse_document_start(){for(var end_mark,event,start_mark,tags,token,version;this.check_token(tokens.DocumentEndToken);)this.get_token();if(this.check_token(tokens.StreamEndToken)){if(token=this.get_token(),event=new events.StreamEndEvent(token.start_mark,token.end_mark),0!==this.states.length)throw new Error("assertion error, states should be empty");if(0!==this.marks.length)throw new Error("assertion error, marks should be empty");this.state=null}else{if(start_mark=this.peek_token().start_mark,[version,tags]=this.process_directives(),!this.check_token(tokens.DocumentStartToken))throw new exports.ParserError(`expected '<document start>', but found ${this.peek_token().id}`,this.peek_token().start_mark);end_mark=(token=this.get_token()).end_mark,event=new events.DocumentStartEvent(start_mark,end_mark,!0,version,tags),this.states.push("parse_document_end"),this.state="parse_document_content"}return event}parse_document_end(){var end_mark,event,explicit,start_mark,token;return token=this.peek_token(),start_mark=end_mark=token.start_mark,explicit=!1,this.check_token(tokens.DocumentEndToken)&&(end_mark=(token=this.get_token()).end_mark,explicit=!0),event=new events.DocumentEndEvent(start_mark,end_mark,explicit),this.state="parse_document_start",event}parse_document_content(){var event;return this.check_token(tokens.DirectiveToken,tokens.DocumentStartToken,tokens.DocumentEndToken,tokens.StreamEndToken)?(event=this.process_empty_scalar(this.peek_token().start_mark),this.state=this.states.pop(),event):this.parse_block_node()}process_directives(){var handle,major,minor,prefix,ref,tag_handles_copy,token,value;for(this.yaml_version=null,this.tag_handles={};this.check_token(tokens.DirectiveToken);)if("YAML"===(token=this.get_token()).name){if(null!==this.yaml_version)throw new exports.ParserError(null,null,"found duplicate YAML directive",token.start_mark);if([major,minor]=token.value,1!==major)throw new exports.ParserError(null,null,"found incompatible YAML document (version 1.* is required)",token.start_mark);this.yaml_version=token.value}else if("TAG"===token.name){if([handle,prefix]=token.value,handle in this.tag_handles)throw new exports.ParserError(null,null,`duplicate tag handle ${handle}`,token.start_mark);this.tag_handles[handle]=prefix}tag_handles_copy=null,ref=this.tag_handles;for(handle in ref)hasProp.call(ref,handle)&&(prefix=ref[handle],null==tag_handles_copy&&(tag_handles_copy={}),tag_handles_copy[handle]=prefix);value=[this.yaml_version,tag_handles_copy];for(handle in DEFAULT_TAGS)hasProp.call(DEFAULT_TAGS,handle)&&((prefix=DEFAULT_TAGS[handle])in this.tag_handles||(this.tag_handles[handle]=prefix));return value}parse_block_node(){return this.parse_node(!0)}parse_flow_node(){return this.parse_node()}parse_block_node_or_indentless_sequence(){return this.parse_node(!0,!0)}parse_node(block=!1,indentless_sequence=!1){var anchor,end_mark,event,handle,implicit,node,start_mark,suffix,tag,tag_mark,token;if(this.check_token(tokens.AliasToken))token=this.get_token(),event=new events.AliasEvent(token.value,token.start_mark,token.end_mark),this.state=this.states.pop();else{if(anchor=null,tag=null,start_mark=end_mark=tag_mark=null,this.check_token(tokens.AnchorToken)?(start_mark=(token=this.get_token()).start_mark,end_mark=token.end_mark,anchor=token.value,this.check_token(tokens.TagToken)&&(tag_mark=(token=this.get_token()).start_mark,end_mark=token.end_mark,tag=token.value)):this.check_token(tokens.TagToken)&&(start_mark=tag_mark=(token=this.get_token()).start_mark,end_mark=token.end_mark,tag=token.value,this.check_token(tokens.AnchorToken)&&(end_mark=(token=this.get_token()).end_mark,anchor=token.value)),null!==tag)if([handle,suffix]=tag,null!==handle){if(!(handle in this.tag_handles))throw new exports.ParserError("while parsing a node",start_mark,`found undefined tag handle ${handle}`,tag_mark);tag=this.tag_handles[handle]+suffix}else tag=suffix;if(null===start_mark&&(start_mark=end_mark=this.peek_token().start_mark),event=null,implicit=null===tag||"!"===tag,indentless_sequence&&this.check_token(tokens.BlockEntryToken))end_mark=this.peek_token().end_mark,event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark),this.state="parse_indentless_sequence_entry";else if(this.check_token(tokens.ScalarToken))end_mark=(token=this.get_token()).end_mark,implicit=token.plain&&null===tag||"!"===tag?[!0,!1]:null===tag?[!1,!0]:[!1,!1],event=new events.ScalarEvent(anchor,tag,implicit,token.value,start_mark,end_mark,token.style),this.state=this.states.pop();else if(this.check_token(tokens.FlowSequenceStartToken))end_mark=this.peek_token().end_mark,event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark,!0),this.state="parse_flow_sequence_first_entry";else if(this.check_token(tokens.FlowMappingStartToken))end_mark=this.peek_token().end_mark,event=new events.MappingStartEvent(anchor,tag,implicit,start_mark,end_mark,!0),this.state="parse_flow_mapping_first_key";else if(block&&this.check_token(tokens.BlockSequenceStartToken))end_mark=this.peek_token().end_mark,event=new events.SequenceStartEvent(anchor,tag,implicit,start_mark,end_mark,!1),this.state="parse_block_sequence_first_entry";else if(block&&this.check_token(tokens.BlockMappingStartToken))end_mark=this.peek_token().end_mark,event=new events.MappingStartEvent(anchor,tag,implicit,start_mark,end_mark,!1),this.state="parse_block_mapping_first_key";else{if(null===anchor&&null===tag)throw node=block?"block":"flow",token=this.peek_token(),new exports.ParserError(`while parsing a ${node} node`,start_mark,`expected the node content, but found ${token.id}`,token.start_mark);event=new events.ScalarEvent(anchor,tag,[implicit,!1],"",start_mark,end_mark),this.state=this.states.pop()}}return event}parse_block_sequence_first_entry(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_block_sequence_entry()}parse_block_sequence_entry(){var event,token;if(this.check_token(tokens.BlockEntryToken))return token=this.get_token(),this.check_token(tokens.BlockEntryToken,tokens.BlockEndToken)?(this.state="parse_block_sequence_entry",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_block_sequence_entry"),this.parse_block_node());if(!this.check_token(tokens.BlockEndToken))throw token=this.peek_token(),new exports.ParserError("while parsing a block collection",this.marks.slice(-1)[0],`expected <block end>, but found ${token.id}`,token.start_mark);return token=this.get_token(),event=new events.SequenceEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event}parse_indentless_sequence_entry(){var event,token;return this.check_token(tokens.BlockEntryToken)?(token=this.get_token(),this.check_token(tokens.BlockEntryToken,tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)?(this.state="parse_indentless_sequence_entry",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_indentless_sequence_entry"),this.parse_block_node())):(token=this.peek_token(),event=new events.SequenceEndEvent(token.start_mark,token.start_mark),this.state=this.states.pop(),event)}parse_block_mapping_first_key(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_block_mapping_key()}parse_block_mapping_key(){var event,token;if(this.check_token(tokens.KeyToken))return token=this.get_token(),this.check_token(tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)?(this.state="parse_block_mapping_value",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_block_mapping_value"),this.parse_block_node_or_indentless_sequence());if(!this.check_token(tokens.BlockEndToken))throw token=this.peek_token(),new exports.ParserError("while parsing a block mapping",this.marks.slice(-1)[0],`expected <block end>, but found ${token.id}`,token.start_mark);return token=this.get_token(),event=new events.MappingEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event}parse_block_mapping_value(){var token;return this.check_token(tokens.ValueToken)?(token=this.get_token(),this.check_token(tokens.KeyToken,tokens.ValueToken,tokens.BlockEndToken)?(this.state="parse_block_mapping_key",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_block_mapping_key"),this.parse_block_node_or_indentless_sequence())):(this.state="parse_block_mapping_key",token=this.peek_token(),this.process_empty_scalar(token.start_mark))}parse_flow_sequence_first_entry(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_flow_sequence_entry(!0)}parse_flow_sequence_entry(first=!1){var event,token;if(!this.check_token(tokens.FlowSequenceEndToken)){if(!first){if(!this.check_token(tokens.FlowEntryToken))throw token=this.peek_token(),new exports.ParserError("while parsing a flow sequence",this.marks.slice(-1)[0],`expected ',' or ']', but got ${token.id}`,token.start_mark);this.get_token()}if(this.check_token(tokens.KeyToken))return token=this.peek_token(),event=new events.MappingStartEvent(null,null,!0,token.start_mark,token.end_mark,!0),this.state="parse_flow_sequence_entry_mapping_key",event;if(!this.check_token(tokens.FlowSequenceEndToken))return this.states.push("parse_flow_sequence_entry"),this.parse_flow_node()}return token=this.get_token(),event=new events.SequenceEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event}parse_flow_sequence_entry_mapping_key(){var token;return token=this.get_token(),this.check_token(tokens.ValueToken,tokens.FlowEntryToken,tokens.FlowSequenceEndToken)?(this.state="parse_flow_sequence_entry_mapping_value",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_sequence_entry_mapping_value"),this.parse_flow_node())}parse_flow_sequence_entry_mapping_value(){var token;return this.check_token(tokens.ValueToken)?(token=this.get_token(),this.check_token(tokens.FlowEntryToken,tokens.FlowSequenceEndToken)?(this.state="parse_flow_sequence_entry_mapping_end",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_sequence_entry_mapping_end"),this.parse_flow_node())):(this.state="parse_flow_sequence_entry_mapping_end",token=this.peek_token(),this.process_empty_scalar(token.start_mark))}parse_flow_sequence_entry_mapping_end(){var token;return this.state="parse_flow_sequence_entry",token=this.peek_token(),new events.MappingEndEvent(token.start_mark,token.start_mark)}parse_flow_mapping_first_key(){var token;return token=this.get_token(),this.marks.push(token.start_mark),this.parse_flow_mapping_key(!0)}parse_flow_mapping_key(first=!1){var event,token;if(!this.check_token(tokens.FlowMappingEndToken)){if(!first){if(!this.check_token(tokens.FlowEntryToken))throw token=this.peek_token(),new exports.ParserError("while parsing a flow mapping",this.marks.slice(-1)[0],`expected ',' or '}', but got ${token.id}`,token.start_mark);this.get_token()}if(this.check_token(tokens.KeyToken))return token=this.get_token(),this.check_token(tokens.ValueToken,tokens.FlowEntryToken,tokens.FlowMappingEndToken)?(this.state="parse_flow_mapping_value",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_mapping_value"),this.parse_flow_node());if(!this.check_token(tokens.FlowMappingEndToken))return this.states.push("parse_flow_mapping_empty_value"),this.parse_flow_node()}return token=this.get_token(),event=new events.MappingEndEvent(token.start_mark,token.end_mark),this.state=this.states.pop(),this.marks.pop(),event}parse_flow_mapping_value(){var token;return this.check_token(tokens.ValueToken)?(token=this.get_token(),this.check_token(tokens.FlowEntryToken,tokens.FlowMappingEndToken)?(this.state="parse_flow_mapping_key",this.process_empty_scalar(token.end_mark)):(this.states.push("parse_flow_mapping_key"),this.parse_flow_node())):(this.state="parse_flow_mapping_key",token=this.peek_token(),this.process_empty_scalar(token.start_mark))}parse_flow_mapping_empty_value(){return this.state="parse_flow_mapping_key",this.process_empty_scalar(this.peek_token().start_mark)}process_empty_scalar(mark){return new events.ScalarEvent(null,null,[!0,!1],"",mark,mark)}}return DEFAULT_TAGS={"!":"!","!!":"tag:yaml.org,2002:"},ctor=Parser.prototype.initialise,Parser}.call(this)}).call(this)}),register({0:["./loader"]},0,function(global,module,exports,require,window){(function(){var composer,constructor,parser,reader,resolver,scanner,util;util=require("./util"),reader=require("./reader"),scanner=require("./scanner"),parser=require("./parser"),composer=require("./composer"),resolver=require("./resolver"),constructor=require("./constructor"),this.make_loader=function(Reader=reader.Reader,Scanner=scanner.Scanner,Parser=parser.Parser,Composer=composer.Composer,Resolver=resolver.Resolver,Constructor=constructor.Constructor){var components;return components=[Reader,Scanner,Parser,Composer,Resolver,Constructor],function(){var component;class Loader{constructor(stream){var i,len,ref;for(components[0].prototype.initialise.call(this,stream),i=0,len=(ref=components.slice(1)).length;i<len;i++)(component=ref[i]).prototype.initialise.call(this)}}return util.extend(Loader.prototype,...function(){var i,len,results;for(results=[],i=0,len=components.length;i<len;i++)component=components[i],results.push(component.prototype);return results}()),Loader}.call(this)},this.Loader=this.make_loader()}).call(this)}),register({"":["yaml"]},0,function(global,module,exports,require,window){(function(){var dumper,loader,util;this.composer=require("./composer"),this.constructor=require("./constructor"),dumper=this.dumper=require("./dumper"),this.errors=require("./errors"),this.events=require("./events"),loader=this.loader=require("./loader"),this.nodes=require("./nodes"),this.parser=require("./parser"),this.reader=require("./reader"),this.resolver=require("./resolver"),this.scanner=require("./scanner"),this.tokens=require("./tokens"),util=require("./util"),this.scan=function(stream,Loader=loader.Loader){var _loader,results;for(_loader=new Loader(stream),results=[];_loader.check_token();)results.push(_loader.get_token());return results},this.parse=function(stream,Loader=loader.Loader){var _loader,results;for(_loader=new Loader(stream),results=[];_loader.check_event();)results.push(_loader.get_event());return results},this.compose=function(stream,Loader=loader.Loader){return new Loader(stream).get_single_node()},this.compose_all=function(stream,Loader=loader.Loader){var _loader,results;for(_loader=new Loader(stream),results=[];_loader.check_node();)results.push(_loader.get_node());return results},this.load=function(stream,Loader=loader.Loader){return new Loader(stream).get_single_data()},this.load_all=function(stream,Loader=loader.Loader){var _loader,results;for(_loader=new Loader(stream),results=[];_loader.check_data();)results.push(_loader.get_data());return results},this.emit=function(events,stream,Dumper=dumper.Dumper,options={}){var _dumper,dest,event,i,len;_dumper=new Dumper(dest=stream||new util.StringStream,options);try{for(i=0,len=events.length;i<len;i++)event=events[i],_dumper.emit(event)}finally{_dumper.dispose()}return stream||dest.string},this.serialize=function(node,stream,Dumper=dumper.Dumper,options={}){return exports.serialize_all([node],stream,Dumper,options)},this.serialize_all=function(nodes,stream,Dumper=dumper.Dumper,options={}){var _dumper,dest,i,len,node;_dumper=new Dumper(dest=stream||new util.StringStream,options);try{for(_dumper.open(),i=0,len=nodes.length;i<len;i++)node=nodes[i],_dumper.serialize(node);_dumper.close()}finally{_dumper.dispose()}return stream||dest.string},this.dump=function(data,stream,Dumper=dumper.Dumper,options={}){return exports.dump_all([data],stream,Dumper,options)},this.dump_all=function(documents,stream,Dumper=dumper.Dumper,options={}){var _dumper,dest,document,i,len;_dumper=new Dumper(dest=stream||new util.StringStream,options);try{for(_dumper.open(),i=0,len=documents.length;i<len;i++)document=documents[i],_dumper.represent(document);_dumper.close()}finally{_dumper.dispose()}return stream||dest.string}}).call(this)}),this.yaml=require_from(null,"")("yaml")}).call(this);